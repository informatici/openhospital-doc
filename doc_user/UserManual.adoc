= Open Hospital 1.14.2 - User's Guide
:icons: font
:stem:
:toc: left
:toclevels: 4
:url-docs: https://asciidoctor.org/docs
:url-gem: https://rubygems.org/gems/asciidoctor
:imagesdir: media/

image:OH-splash.png[OH splash,width=390,height=298]

image:by-sa.png[bysa,width=88,height=31,link="https://creativecommons.org/licenses/by-sa/4.0/"] [.small]#Informatici Senza Frontiere Onlus, 2022#
pass:[<br>][.small]#User's Guide, &#169; 2023 by https://www.informaticisenzafrontiere.org/[Informatici Senza Frontiere Onlus]#
pass:[<br>][.small]#Policies is made available under a https://creativecommons.org/licenses/by-sa/4.0//[Creative Commons Attribution-ShareAlike 4.0] International License: https://creativecommons.org/licenses/by-sa/4.0//.#

== Open Hospital

== 1 Introduction

OH - Open Hospital (https://www.open-hospital.org/) is a free and open-source Electronic Health Record (EHR) software application.
Open Hospital is deployed as a desktop application that can be used in a standalone, single user mode (PORTABLE mode)
or in a client / server network configuration (CLIENT mode), where multiple clients and users connect to the same database server.

Open Hospital is developed in Java and it is based on open-source tools and libraries; it runs on any computer, requires low resources and is designed to work without an internet connection.

Open Hospital is the first of a set of software applications that ISFfootnote:[Informatici Senza Frontiere - https://www.informaticisenzafrontiere.org] has developed to support the information management and the activities of hospitals and health centers in the simplest manner possible, by providing tools for administrative operations (like registering patients, and managing laboratory analysis and pharmaceutical stocks) and for the production of detailed statistics and reports.
It was first deployed in 2006 at the St. Luke Hospital in Angal (Uganda) and it is now used in dozens of different locations around the world.

=== 1.1 Main Features

OH - Open Hospital features include:

* Pharmacy management
* Laboratory management
* OPD management
* Patient admission and discharge management
* Pregnancy management
* Malnutrition control management
* Vaccines database
* Patient billing support
* Therapy management
* Appointment scheduling
* Internal communication
* Statistics and printing

=== 1.2 About this User Manual

In the following chapters, all the information needed to correctly and efficiently use the OH software is presented.
More information can be found on the Open Hospital web site: https://www.open-hospital.org.

NOTE: The information needed to install, configure or administer Open Hospital is not included in this manual; please refer to the _Open Hospital Administrator’s Guide_ supplied with the software.

[#help]
==== 1.2.1 Help

* The *[.underline]##H##elp* function available at the bottom of the main MENU of Open Hospital provides access to
this document [.underline]#offline#.

* It allows enabled user to easily access the application *[.underline]##L##ogs* folder

image:image0_HelpMenu.png[OH Help Menu]

==== 1.2.2 Legend

In this document, the following conventions are used:

* When a text is written in bold and highlighted in grey *–*
like *[.underline]##P##harmacy* or *[.underline]##N##ew –* it indicates a function of the application and it is also
called a “button”. *[.underline]##P##harmacy* is a button.

* When a text is written in bold italics (as an example, *_Laboratory Browser)_*, it indicates the screen with the name
“Laboratory Browser” (see example below). Each screen of the application is called a window. *_Laboratory Browser_* is a window.

* When a text is written in bold as *Search patient visits*, it indicates a function of the application,
or an area of the window (for example, *Data table*).

* Each button always has a single letter with an underscore. The functionality offered by the button is made available by
simultaneously pressing the “Alt” key and the “underlined” key (in the example of *[.underline]##P##harmacy*,
press “Alt” and “P”)*.* This behavior is common throughout the application and allows the user to operate (almost)
without the use of the mouse. In this document, the “Alt” key and the “P” key will be indicated as “Alt + P”.

.Click with the mouse on the button or press "Alt + P" to enter the *Pharmacy*
[#default-main-menu-3]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

* Each screen of the application is a called “window”. Most complex windows of the application are composed of more than one
area. Areas can be a *Selection panel*, a *Data table*, or a *Buttons panel* (see *_Laboratory Browser_* window below).

image:image3.png[Window areas,width=642,height=464]

* To highlight an entry (for example, a single line in a *Data table*), click the mouse on the entry.
The entry (the entire line) is then highlighted in blue. This behavior is valid throughout the application (see the example below):

image:image4.png[Highlight Line,width=509,height=296]

== 2 Start the OH Application

To run Open Hospital, double-click the program icon on the desktop; an information image (splash image) appears for a few seconds and
then the main _menu_ of the OH application is shown.

If no desktop shortcut is present, open the folder where the software has been installed and double-click on the platform-specific startup script (**oh.bat** on Windows / **oh.sh** on Linux).

=== 2.1 Main menu

.The default Main Menu of the OH application shows the available functions.
[#default-main-menu-4]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

=== 2.2 Functions

From the main menu, it is possible to access functions and submenus. In the example below, selecting the *_Settings_* button leads to the OH settings submenu:

image:image6.png[Setting Submenu,width=602,height=370]

Some menu items lead directly to a specific function of the application
(see the following example with the *_OPD Out Patient Department_* window):

image:image7.png[Click OPD in main menu,width=649,height=374]

<<<

[#outpatient-department-management]
== 3 Outpatient Department Management ([.underline]##O##PD)

=== 3.1 Main Characteristics

The function of the Out Patient Department (OPD) allows the recording of ambulatory patient visits, searching, reviewing, editing, and
eventually deleting visits. In addition, queries necessary for statistical purposes are available.

Click on the *[.underline]##O##PD* button or press “Alt + O” in the main *_menu_* to access the OPD function.

.Press the *[.underline]##O##PD* button or “Alt + O”.
[#default-main-menu-5]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

=== 3.2 Functions of Out Patient Department

All functions available under *[.underline]##O##PD* are accessible from the window *_OPD Out Patient Department_*, shown below:

image:image9.png[OPD,width=800,height=319]

The following functions are available from the *Buttons panel* of the window *_OPD Out Patient Department_*:

* *[.underline]##N##ew*: create a new patient visit.
* *[.underline]##E##dit*: modify an existing patient visit.
* *[.underline]##D##elete*: delete a patient visit.
* *[.underline]##C##lose*: exit from the *_OPD Out Patient Department_* function.

Furthermore, a search function (*[.underline]##S##earch*) is available using the *Selection panel* on the left side of the window.

==== 3.2.1 Search Patient Visits ([.underline]##S##earch)

Queries about ambulatory patient visits can be done using the search criteria available on the *Selection panel* area of the window (on the left side of the window).

The following fields are available to select or narrow the resulting matches:

* *Search by code* (only one can be used at a time)
** *Code*: Search an OPD visit by its code. Each code is unique, so only *ONE* result is expected
** *OPD No.*: Search OPD visits by their Progressive in Year. This starts every year from 1, so one or more results are expected
** *Pat. Id*: Search OPD visits by Patient ID. One or more results are expected

NOTE: to apply the above *Exclusive Filters* one has to just type a __number__ and press __ENTER__.

* *Other filters* (they are all applied when pressing [.underline]##S##earch)
** *Ward*: Select a specific OPD ward
** *Disease type*: Select a specific disease type or all disease types
** *Disease*: Select either a specific disease or all diseases, or search using partial matches by typing some letters in the search field
** *Sex*: Select patients by sex: All / Male / Female
** *Date*: “Date From” and “Date To” to select all visits occurring during the specified period
** *Age*: “Age From” and “Age To” to select patients by age
** *Type of patient*: Select visits by type of attendance: All / New / Re-Attendance
** *User*: Select visits by doctor (USER column): only visits inserted by the logged user (me) or All

After specifying the selection criteria, press the *[.underline]##S##earch* button.
The counter at the bottom of the window indicates how many visits match the specified criteria, and the individual visit data is shown in the *Data table* area.
The *[.underline]##R##eset* button blanks all filters to default values.

The example below shows all the visits for patients with _asthma_ disease admitted in the period from 29-5-2020 until
5-6-2021; all ages, all sexes, and all patient types are included.

image:image10.png[OPD Visits,width=810,height=337]

[#create-a-new-patient-visit]
==== 3.2.2 Create a New Patient Visit ([.underline]##N##ew)

Press the *[.underline]##N##ew* button in the *_OPD Out Patient Department_* window to access the *_New OPD Registration_* window, shown below.

image:image11.png[New Patient Visit,width=391,height=435]

To record a visit, enter data into the following fields:

* *Type of attendance*: This field is not meant to distinguish whether or not an individual is new in the ambulatory
(that is, whether this is the absolute first time they have entered the ambulatory). The NEW ATTENDANCE selection
indicates whether the patient comes to the ambulatory to report a new
health issue or new disease for which no care has been previously addressed or recorded. This could be their initial
visit or their n-th time in the ambulatory; it does not matter with regard to this field. If this visit is for an
issue or disease previously addressed, the field is not selected and records are created for the patient
with regard to the follow-up care and instructions for recovery.
 +
 +
_Example: A patient comes to the ambulatory because they report a cut; this event is recorded as
NEW ATTENDANCE. The doctor sutures the wound and invites the patient to come back ten days later. When the same patient comes back
after ten days to have his/her stitches removed, a new OPD record is created, without the NEW ATTENDANCE flag set._
 +
* *Attendance Date*: The date on which the patient is seen for the recorded activity.
* *Disease Type*: By selecting a _Disease Type_, the first diagnosis list will contain only related diseases.
The second and third list continues to contain all diseases.
 +

NOTE: Disease Types are defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

* *Diagnosis*: A maximum of three diseases can be diagnosed per attendance (“new attendance” or “re-attendance” does not matter in this context). Normally, the patient reports at least one visit reason, but it may happen that
during the same visit, the doctor finds other concurrent pathologies. Thus it is possible to record
up to a maximum of three (the first being the only one mandatory) diagnoses. +
It is possible to use filters to find diseases more easily.
To do so, enter a text fragment in the search field that is part of the disease name.
The closer the search text comes to the name of the disease being searched, the more precise the search is.
 +
 +
_Example: In the *OPD Out Patient Department* window, only the first diagnosis and its type are shown,
but all the corresponding data is stored and available in reports and for searching._
 +
* *Age*: The patient's age; the valid age range is 0-120.
* *Sex*: The patient's sex; either male or female.

When finished entering data, the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm and record the patient's visit.
* *[.underline]##C##ancel*: close the window and return to the *_OPD Out Patient Department_* window.

==== 3.2.3 Modify a Recorded Patient Visit ([.underline]##E##dit)

In order to modify a visit, first highlight it in the *_OPD Out Patient Department_* window. Once the visit has been highlighted,
press the *[.underline]##E##dit* button. When the *_Edit OPD Registration_* window is shown, all the data can be changed or modified.

image:image12.png[Edit Patient Visit,width=373,height=414]

Once the data have been inserted, the *Buttons panel* shows the following choices:

* *[.underline]##O##K*: confirm new values (all the previous values will be lost).
* *[.underline]##C##ancel*: close the window and return to the *_OPD Out Patient Department_* window without applying any changes.

==== 3.2.4 Delete a Recorded Patient Visit ([.underline]##D##elete)

In order to delete a visit, first highlight it in the *_OPD Out Patient Department_* window.
Once the visit has been highlighted, press the *[.underline]##D##elete* button. The highlighted record is shown in a
confirmation dialog: now the record can be deleted. Deleted records are no longer available.

image:image13.png[Delete Patient Visit,width=278,height=206]

The *Buttons panel* shows the following choices:

* *[.underline]##Y##es*: confirm the deletion of the visit.
* *[.underline]##N##o*: close the window and return to the *_OPD Out Patient Department_* window without deleting the visit.

[#opd-extended]
=== 3.3 OPD Extended

The OPD functionality can be extended by changing the _OPDEXTENDED_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

==== 3.3.1 Additional Features

Press the *[.underline]##N##ew* button in the *_OPD Out Patient Department_* window to access the
*_New OPD Registration_* window, shown below.

image:image14.png[OPD Edit Extended,width=1024,height=771]

The OPD Extended module affords the following additional features:

* Calendar (1): to choose the visit date
* OPD number (2): the progressive number per year automatically set by the system; changes to the value can be made only at the first registration in a year, and then it will be increased automatically at each registration. The OPD number *MUST* be unique for each year.
* Registered Patient (3): before choosing a disease, first select a patient from the drop-down list (this is *required*); to find a patient, use the nearby search field by typing part of the patient's name or code. This improves the reliability of reports and statistics, and is a service to the patient as it accounts for the patient's history.
* Radio box (5): to distinguish whether an individual is new (*New Attendance*)
 or a (*Re-Attendance*) in the ambulatory. The *New Attendance*
 selection indicates that the patient came to the ambulatory to report a
 new health issue or new disease for which no care has been previously
 provided and/or addressed. This could be their initial visit or their n-th
 time in the ambulatory; it does not matter for this selection.
 The important criteria for selecting *New Attendance* is that the problem
 under consideration is a new issue; that is, one that has not been dealt
 with previously. For an issue or disease previously dealt with but not completely addressed (that
 is, completely cured or healed), *Re-Attendance* is
 selected and records are created for the patient in regard to the
 follow-up care and instructions for recovery.  Any other follow-up visits
 for the same issue are also marked as *Re-Attendance*.

 Example: A patient comes to the ambulatory because they report a cut; this
 event is recorded as a *New Attendance*. The doctor sutures the wound and
 invites the patient to come back in ten days. When the same patient comes
 back after ten days to have his/her stitches removed, a new OPD record is
 created with the *Re-Attendance* flag set, as this visit is a
 continuation of the previous visit and medical problem.

* Once a patient is selected and if a previous OPD visit is found, special fields are populated with the most recent visit of the patient (4), his/her personal data (5), and the *Re-Attendance* radio box will be selected automatically upon selection of the main (first) disease (6);
* It is now possible to set the next appointment date (7) and in what ward (OPD or IPD). This automatically schedules a visit visible in <<therapy-management,Therapy Management>> and <<worksheet,Worksheet>>.
* Selecting the trash can icon (7) clears the next visit information (date, time and ward) and deletes the appointment if previously specified.
* The selection of the OPD ward (8) is required so as to specify where the visit is taking place. After the first selection in a session, the application remembers the selection to ease the data entry.
* If a new attendance for this patient is required, click the "New Attendance" (6) radio box and proceed normally.
* If editing an old OPD, it is possible to change everything except the patient to whom the OPD refers, and the "New Attendance" radio box.
* In the event that the selected patient's personal data need to be updated, it is possible to click on the Edit icon image:image15.png[Edit icon,width=26,height=26] near his/her name; a new window shows the patient's personal information ready for modification.
* In the event that the patient is not yet registered, the *_<new patient>_* entry can be selected to register a new patient; after registration, the program returns to the OPD window and the new patient is selected.
* If the user is enabled by the Administrator (see <<users-groups,Users & Groups>>), the following is shown:
** the *Examination* button function (see <<patient-examination,Patient examination>>)
** the *Operation* tab after the patient's tab (5) to record small surgeries and other interventions (see <<operations,Operations>>) as well as in Admission (see <<insert-or-modify-surgery-data,Insert or Modify Surgery Data>>).

NOTE: For OPD and IPD wards, see <<ward,Ward>> settings.

<<<

== 4 Pharmacy ([.underline]##P##harmacy)

Pressing *[.underline]##P##harmacy* from the main menu provides access to the Pharmacy menu. From the Pharmacy menu, the following functions are available: *[.underline]##P##harmaceuticals*, *Pharmaceuticals [.underline]##S##tock*, and *Pharmaceuticals Stock [.underline]##W##ard.*

.Press the *[.underline]##P##harmacy* button or “Alt + P” to open the Pharmacy submenu
[frame=none]
[grid=none]
[caption="Submenu: "]
|===
|image:OH-main_menu.png[OH Main Menu]|image:image16.png[SubMenu]
|===


NOTE: Pharmaceuticals Stock Ward functionality can be disabled by changing the INTERNALPHARMACIES flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

[#pharmaceuticals]
=== 4.1 Pharmaceuticals ([.underline]##P##harmaceuticals)

==== 4.1.1 Main Characteristics

Pharmaceutical functions allow for the insertion, modification, and deletion of pharmaceuticals. Moreover, it provides important information about pharmaceuticals:

* the current quantity lying in the stock
* the limit quantity that defines when a pharmaceutical is going out of stock
* if the pharmaceutical is out of stock
* the drugs expiring today or within a specified time period

NOTE: In Open Hospital, to identify pharmaceuticals, sometimes the word, “pharmaceutical” is used and
sometimes the synonym “medical” is used.

==== 4.1.2 Functions of Pharmaceuticals

To access the functions of Pharmaceuticals, press *[.underline]##P##harmaceuticals* in the Pharmacy menu.

All functions available under Pharmaceuticals are accessible from the *_Pharmaceutical Browser_* window,
shown below. It displays all the pharmaceuticals available in the hospital.

image:image17.png[Pharmaceuticals]

If the pharmaceutical quantity is under the critical level, it is shown in RED.

If the pharmaceutical quantity is zero, it is shown in GRAY and the square in the last column is checked.

The following functions are accessible from the *Buttons panel* of the *_Pharmaceutical Browser_* window:

* *[.underline]##N##ew*: register a new pharmaceutical.
* *[.underline]##E##dit*: modify a registered pharmaceutical.
* *[.underline]##D##elete*: delete a pharmaceutical.
* *E[.underline]##x##port*: export the pharmaceuticals to a CSV file (Excel).
* *[.underline]##S##tock*: show the report of stock quantities.
* *Stoc[.underline]##k##Card*: show the history of the movement of a certain pharmaceutical (must be selected in the list first).
* *[.underline]##O##rder*: show the list of pharmaceuticals that have to be ordered.
* *Ex[.underline]##p##iring*: show the list of pharmaceuticals that are going to expire (today, next month, within two months, within three months, or within another month to be specified).
* *A[.underline]##M##C*: show the AMC (average monthly consumption) of pharmaceuticals.
* *[.underline]##C##lose*: exit from the *Pharmaceuticals Browser*.

At the bottom left of the window, there are an "Active Only" and a "Select type" selectors. Based on the values selected, the table either displays a pharmaceutical of a specific type
or all pharmaceuticals if the default value of "All" is used. Similarly, the "Active Only" shows only the active pharmaceuticals; other options are "Disabled Only" and "All".

Just to the right of the selectors is a field that is used to search for a specific pharmaceutical by description by typing a keyword into the field.

It is possible to sort the table by any of the column headers by double-clicking on the column name. Filtered type (combo box), searched keys (the search field) and sorting are all reflected in the STOCK report.

[#insert-a-new-pharmaceutical]
===== 4.1.2.1 Insert a New Pharmaceutical ([.underline]##N##ew)

Press the *[.underline]##N##ew* button in the *_Pharmaceutical Browser_* window to access the *_New Medical_* window, shown below.

To insert a new pharmaceutical, enter the following fields:

* *Type*: for example, Drugs or Chemical +
* *Code*: code that uniquely identifies the pharmaceutical for fast searching.
* *Description*: the description of the pharmaceutical.
* *Pieces per Packet*: number of pieces per packet (if more than 1).
* *Critical level*: the minimum quantity required in stock.
* *Active*: if the pharmaceutical is active or not.

NOTE: Types can be defined by the Administrator. Check the <<settings,Settings>> chapter for more information.

image:image18.png[New Medical]

When all the data is entered, the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm and save the data.
* *[.underline]##C##ancel*: close the window and return to the *_Pharmaceutical Browser_* window.

===== 4.1.2.2 Modify an Existing Pharmaceutical ([.underline]##E##dit)

After selecting the pharmaceutical to modify, press the *[.underline]##E##dit* button in the *_Pharmaceutical Browser_* window to access the *_Edit Medical_* window, shown below. All the data can be modified or changed.

image:image19.png[Edit Medical]

When all the data is entered, the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm and save the data.
* *[.underline]##C##ancel*: close the window and return to the *_Pharmaceutical Browser_* window.

===== 4.1.2.3 Delete a Pharmaceutical ([.underline]##D##elete)

To delete a pharmaceutical, highlight it in the Browser window as before. Next, press the *[.underline]##D##elete* button and a confirmation dialog is shown:

image:image20.png[Delete Medical,width=308,height=128]

The *Buttons panel* has the following choices:

* *[.underline]##Y##es*: confirm the deletion of the pharmaceutical.
* *[.underline]##N##o*: close the window and return to the *_Pharmaceutical Browser_* window.

===== 4.1.2.4 Export the List of Pharmaceuticals (E[.underline]##x##port)

Use this function to export the list of pharmaceuticals shown in the *_Pharmaceutical Browser_* window that then can be imported into Excel.

Press the *E[.underline]##x##port* button in the *_Pharmaceutical Browser_* window to access the *_Save_* window, shown below. The window uses the language of the computer, regardless of the language used in Open Hospital.

This begins the exporting of the list of pharmaceuticals.

In the *_Save_* window:

* select the directory of the file system where the data is to be stored

* input the name for the file (Filename)

image:image21.png[Export Save,width=452,height=319]

===== 4.1.2.5 Stock Report ([.underline]##S##tock)

Press the *[.underline]##S##tock* button in the *_Pharmaceutical Browser_* window to produce the report of pharmaceuticals in the stock, grouped by _IN STOCK_ and _OUT OF STOCK_.

===== 4.1.2.6 Stoc[.underline]##k##Card (Stoc[.underline]##k##Card)

Press the *Stoc[.underline]##k##Card* button in the *_Pharmaceutical Browser_* window to
show the history of the movement for a selected pharmaceutical for a specific time range. The data
can either be in report format or exported to a CSV file.

===== 4.1.2.7 Order of Pharmaceuticals ([.underline]##O##rder)

Press the *[.underline]##O##rder* button in the *_Pharmaceutical Browser_* window to produce the list of pharmaceuticals remaining in stock and the ones to be reordered according to their critical level.

===== 4.1.2.8 Expiring Pharmaceuticals (Ex[.underline]##p##iring)

Press the *Ex[.underline]##p##iring* button in the *_Pharmaceutical Browser_* window to produce the list of pharmaceuticals that are going to expire, grouped by type and lot.

===== 4.1.2.9 Average Monthly Consumption (A[.underline]##M##C)

Press the *A[.underline]##M##C* button in the *_Pharmaceutical Browser_* window to produce a
report showing the average monthly consumption of pharmaceuticals.

[#pharmaceutical-stock]
=== 4.2 Pharmaceutical Stock (Pharmaceutical [.underline]##S##tock)

==== 4.2.1 Main Characteristics

The Pharmaceutical Stock feature is used to store and trace every stock movement that has been made. Every movement is identified by the following data:

* date of the movement
* type of the movement, that is, if it is a charging or discharging type
* the ward to which the movement refers. This feature is needed for discharging movements only. It is important to know in which ward pharmaceuticals have been used; otherwise, this field is empty
* the quantity
* the pharmaceutical (which in turn relates to different categories: Laboratory, Surgery, Drugs or Chemical)
* the lot to which the movement is referred. Some pharmaceuticals may not have a lot related (for example, ‘Gloves’), so the field can be omitted. It is recommended to store even the lot (if it exists) because every lot has its own peculiarity:
** a name (that can be its code)
** a preparation date
** a due date
+
In this way, which movement that refers to the pharmaceuticals expiring can be found, or pharmaceuticals prepared on a specific date, or how many movements have been registered about that lot, and so on.
* the supplier of the pharmaceutical. This characteristic is needed for charging movements only. This field is empty in other cases.

==== 4.2.2 Functions of Pharmaceuticals Stock

To access the functions of Pharmaceuticals, press *Pharmaceutical [.underline]##S##tock* in the Pharmacy menu, shown below.

image:image22.png[Pharmacy Menu,width=220,height=182]

The *_Stock Movement Browser_* window, shown below, is opened.

image:image23.png[Stock Movement Browser]

NOTE: The User column can be enabled or disabled by changing the _SINGLEUSER_ flag in the configuration file. Ask the Administrator to enable/disable this function or refer to the _Administrator’s Guide_.

The following functions are available from the *Buttons panel* of the window *_Stock Movement Browser_*:

* *C[.underline]##h##arge*: record a new charge movement.
* *Discha[.underline]##r##ge*: record a new discharge movement.
* *[.underline]##D##elete*: delete the last movement.
* *[.underline]##E##xport to Excel*: export pharmaceuticals stock movements.
* *Stoc[.underline]##k##Card*: show the history of the movement for a certain pharmaceutical (can be directly selected by the list otherwise will be requested).
* *Stock [.underline]##L##edger*: show the history of the movement for all pharmaceuticals within a selected date range.
* *[.underline]##C##lose*: exit the *_Stock Movement Browser_* window.

Furthermore, a search function (*[.underline]##F##ilter)* is available using the *Selection panel* on the left of the window.

===== 4.2.2.1 Search Pharmaceuticals Stock Movements ([.underline]##F##ilter)

image:image24.png[Stock Movements Filter]

Using the *_Stock Movement Browser_* search function, the information in the window can be filtered to show:

* how many boxes of pharmaceuticals remain in the stock
* which movements have been made on a specific day
* in which ward a specific pharmaceutical has been discharged
* if there are any pharmaceuticals expired

Queries about the movements of pharmaceuticals can be done using the search criteria available on the *Selection panel* area of the *_Stock Movement Browser_* window (left side of the browser). The search results are shown in the *Data table* area.

The *Selection panel* is used to select a group of movements according to specific filters. The filter is set using the tools contained in the *Selection panel*.

Filters refer to three different objects: the *Pharmaceutical*, the *Movement*, and the *Lot Preparation and Lot Due Date*.

For a *Pharmaceutical*, choose either its:

* *_Description_*, the pharmaceutical's name
* *_Type_*: Laboratory, Surgery, Chemical, or Drug, etc.

To avoid conflicting filters, only one of the options is available at any one time. So, when the description combo box is active, the other one is not, and vice versa.

To quickly find a medical, simply type a keyword that is a part of the medical's name into the text field at the top of the pharmaceuticals products combo box and
press the search button (image:image81.png[Search icon,width=15,height=15]) that follows this text field.

For a *Movement*, choose either its:

* *_Type_*: specifies if it is a charge or a discharge type. If the discharge option is selected, then the ward combo box is enabled. The ward combo box allows finding any discharging movements that refer to a specific ward.
* *_Date_*: specifies the data range for the search, between the ‘Date From’ and ‘Date To’ values. The date tools consist of three blank areas, which (from left to right) refer to day, month and year. As a value is inserted into a blank area, moving to the next area is accomplished by using the “Tab” key on the keyboard. When the window is shown, the date range is set to the previous week by default.

Finally, for *Lot Preparation Date* and *Lot Due Date*, movements that refer to specific lots can be found by inserting:

* the _lot preparation date_: a valid time span (between ‘Preparation Date From’ and ‘Preparation Date To’)
* the _due date_; behaves similarly to the lot preparation tool and the movement date tool

Each filter can be combined with another, allowing for many possibilities.

After the filtering criteria are chosen, press the *[.underline]##F##ilter* button and the matching data is shown in the *Data table* area.

By pressing the *Rese[.underline]##t##* button, all criteria reset to default values.

===== 4.2.2.2 Insert Stock Charging Movement ([.underline]##C##harge)

To insert charging movements, press *[.underline]##C##harge* in the *_Stock Movement Browser_* window. The *_Stock Movement_* window is shown:

image:image25.png[Stock Movement Charging]

It is possible to perform more than one charging movement at a time. The window is composed of two areas: a *Panel* and a *Grid*.

The *Panel* contains the following fields:

* *Date*: the date of the movement
* *Charge Type*: the charge type
* *Supplier*: the origin of the pharmaceutical
* *Reference No.*: the reference of the operation

The *Grid* is filled with the pharmaceuticals involved in the charging movement. To fill the grid, use the field above the grid to select a pharmaceutical. Enter into the field the code or the description of the pharmaceutical to move, and
press *ENTER.* This will open the *_Choose a Medical_* window.

NOTE: Only *Active* pharmaceuticals will be displayed (see <<pharmaceuticals,4.1 Pharmaceuticals>>)

image:image26.png[Medical Selection]

Select the desired medical and click *[.underline]##Y##es*. This will open a new window where the quantity of the medical is specified:

image:image27.png[Input Quantity,width=310,height=135]

Then press *[.underline]##O##K*. If there is an existing lot in the system, the *_Existing Lot_* window is shown:

image:image28.png[Existing Lots]

If stock movement is related to this existing lot, select it and click *Selected Lot*. Otherwise, click *New Lot*; then the *_Lot Information_* window is shown with the following fields:

* *Lot No.*: the lot code
* *Lot preparation*: the lot preparation date
* *Expiring*: the lot expiring date

image:image29.png[Lot Information]

Enter the appropriate values and then press the *[.underline]##O##K* button. The *_Input_* window is shown, where the unit cost is specified:

image:image30.png[UnitCost Input]

Then click *[.underline]##O##K* to insert the medical information as a line in the grid.

Finally, click the *[.underline]##S##ave* button to save the charge movement.

NOTE: The Lot definition can be set as automatic by changing the AUTOMATICLOT_IN flag in the configuration
file, so every new charging movement automatically creates a new lot. Regardless of the setting,
the Expiring Date must always be provided. Ask the Administrator or refer to the _Administrator’s Guide_.

NOTE: In order to avoid managing the cost of medicals, set the LOTWITHCOST flag to _no_ in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

[#insert-stock-discharging-movement]
===== 4.2.2.3 Insert Stock Discharging Movement (Discha[.underline]##r##ge)

To insert discharging movements, press the *Discha[.underline]##r##ge* button in the *_Stock Movement Browser_* window. The *_Stock Movement_* window is shown:

image:image31.png[Stock Movement Discharging]

It is possible to perform more than one discharging movement at a time. The window is composed of two areas: a *Panel* and a *Grid.*

The *Panel* contains the following fields:

* *Date*: the date of the movement
* *Discharge Type*: the discharge type
* *Destination*: the ward where the discharged medical will be affected
* *Reference No.*: the reference number of the operation

The *Grid* is filled in with pharmaceuticals involved in the discharging movement. To fill the grid, enter into the field above the grid the description of the pharmaceutical to discharge, and
press *ENTER.* This opens the *_Choose a Medical_* window.

NOTE: Only *Active* pharmaceuticals will be displayed (see <<pharmaceuticals,4.1 Pharmaceuticals>>

image:image26.png[Medical Selection]

Select the desired medical and click *[.underline]##Y##es*. This opens the *_Quantity_* window, showing the existing stock for the medical. In the input field, enter the quantity of the medical to discharge.

image:image32.png[Quantity Input]

Then press *[.underline]##O##K*. The *_Lot Information_* window is shown:

image:image33.png[Existing Lot]

Select the existing lot and click *[.underline]##O##K* to insert the medical discharge into the grid.

Click the *[.underline]##S##ave* button to save the discharge movement.

NOTE: The Lot definition can be set as automatic by changing the flag AUTOMATICLOT_OUT in the configuration
file, so every new discharging movement will automatically select a suitable lot for the operation according
to the expiring date. If the first selected lot does not contain a high enough quantity to serve the discharging
movement, several discharging movements may be generated. Ask the Administrator or check the _Administrator’s Guide_
for more information.

<<<

[#delete-last-stock-movement]
===== 4.2.2.4 Delete Last Stock Movement (*[.underline]##D##elete*)
In Pharmaceutical Stock it is not possible to change the past and all operations need to be done in consecutive order. If a mistake concerns a movement in the past (for example, the wrong quantity of a pharmaceutical is inserted in charge), then use a new opposite movement to correct the mistake (in the example, use a discharge movement to undo the unwanted change).

Nevertheless, the admin can enable/disable the *[.underline]##D##elete* button that allows the enabled user do delete only the last movement, and helps quickly undoing mistakes.

To delete the last movement, select first the row that you want to delete and press the *[.underline]##D##elete* button in the *_Stock Movement Browser_* window. Only one row is allowed to delete at a time.

If it is not the last movement the following  *_Error_* message is shown:

image:image250.png[Not last movement error]

But if the row selected is the last movement this *_Question_* message is presented:

image:image248.png[Question]

Click *[.underline]##Y##es* to confirm the deletion of the last movement, otherwise click *[.underline]##N##o* to cancel the operation. After clicking the *[.underline]##Y##es* button, the system checks if the product involved in the selected movement has not been used itself in the *_Pharmaceuticals Stock [.underline]##W##ard_* (see <<pharmaceutical-stock-ward,Pharmaceuticals Stock Ward>> in this document).

If the product has been already used in a Ward, then the *_Error_* message is shown.

image:image249.png[Error]

Otherwise the selected movement is deleted and the *_Success_* window is shown:

image:image251.png[success]

NOTE: This button can be enabled/disabled to allow/not allow movements deletion. Ask the Administrator or check the Administrator's Guide for more information.

[#pharmaceutical-stock-ward]
=== 4.3 Pharmaceuticals Stock Ward (Pharmaceuticals Stock [.underline]##W##ard)

==== 4.3.1 Main Characteristics

The Pharmaceutical Stock Ward feature allows the management of the pharmacy at the ward level.

*Pharmaceuticals Stock [.underline]##W##ard* functionality can be enabled or disabled by changing the _INTERNALPHARMACIES_ flag in the configuration file**.** Ask the Administrator or refer to the _Administrator’s Guide_.

==== 4.3.2 Functions of Pharmaceuticals Stock Ward

To access the functions of Pharmaceuticals, press *Pharmaceutical Stock [.underline]##W##ard* on the Pharmacy menu shown below.

image:image22.png[Phamacy Menu,width=220,height=182]

The window *_Ward Pharmacy_*, shown below, will be opened. All functions available under Pharmaceutical Stock are accessible from the *_Ward Pharmacy_* window by selecting one *WARD* on the top left of the window.

image:image34.png[Ward Pharmacy]

After the selection of the ward (FEMALE WARD in this example), the *_Ward Pharmacy_* window is shown, allowing for the management of the ward pharmacy of the FEMALE WARD:

image:image35.png[Ward Pharmacy]

The available functions are:

* *[.underline]##N##ew*: create a new discharging movement for the patient.
* *[.underline]##R##ectify*: rectify the quantity lying in stock (see 6.3.2.1 Rectify).
* *Re[.underline]##p##ort*: print the ward medical inventory report.
* *[.underline]##E##xcel*: export the data in a format to import into Excel.
* *[.underline]##D##elete*: delete the last movement.
* *Stoc[.underline]##k##Card*: show the history of the movement for a certain pharmaceutical (can be directly selected by the list otherwise will be requested).
* *Stock [.underline]##L##edger*: show the history of the movement for all pharmaceuticals within a selected date range.
* *[.underline]##C##lose*: exit from the *_Ward Pharmacy_* window.

Differently from the *Pharmaceuticals [.underline]##S##tock* functionality, the *Pharmaceutical Stock [.underline]##W##ard* allows only discharging movement to patients since it is an internal management of pharmaceuticals held in the ward after they have been “charged” by the main pharmacy. It is also possible that the discharging movement from ward to ward can be accomplished.

The *_Ward Pharmacy_* window shows a *Filter panel* on the left, a *Movements panel* in the right-center, and a *Button panel* at the bottom.

===== 4.3.2.1 Rectify ([.underline]##R##ectify)

It is possible to rectify the quantity held in stock in the Ward Pharmacy. This may be necessary when a drug is damaged or stolen. To do this,
click the *[.underline]##R##ectify* button to open the *_Rectify_* window.

image:image36.png[Rectify]

* Select the medical. Once the medical has been selected, the quantity currently in stock is displayed.
* If lots exist for the drug, click *Choose a [.underline]##L##ot*; otherwise, click on *[.underline]##N##ew Lot* (new lot creation).
* Modify the *Actual Quantity*.
* Enter the reason for the rectification.

image:image37.png[Rectify filled]

Click *[.underline]##O##K* to save the rectification or *[.underline]##C##ancel* to abort the change.

[#search-ward-pharmacy-movements]
===== 4.3.2.2 Search Ward Pharmacy Movements ([.underline]##F##ilter)

image:image38.png[WardPharmacy Filter]

The *Filter panel* allows the filtering of registered movements by:

* Medical
* Age
* Sex
* Weight

The counter at the bottom automatically displays the number of movements that match the filtering criteria after clicking the *[.underline]##F##ilter* button.

The *Re[.underline]##s##et* button resets all the values in the *Filter panel* back to their default values as shown in the figure above.

===== 4.3.2.3 The Movements Panel

The *Movements panel* is made up of three tabs:

* *Outcomes*: shows all the movements registered between the dates in the *From* and *To* fields at the top of the window. By default, *From* and *To* dates are set to the current date. Every movement is identified by the following fields:
** *Date*: the date of the movement.
** *Patient*: the patient the movement is related to, their age, sex, and weight (ND if the weight has not been defined at the moment of registration).
** *Medical*: the drug subject of the movement.
** *Quantity*: the quantity subject of the movement.
* *Incomings*: shows all incomings from the main pharmacy; it is to say, all discharging movements registered in the *_Pharmaceutical Stock_* window related to the selected ward.
* *Drugs*: the number of drugs remaining in the selected ward as a result of all incoming minus all the outgoings.

===== 4.3.2.4 Inserting a New Ward Pharmacy Movement ([.underline]##N##ew)

To insert ward pharmacy movements, press the [.underline]##N##ew button in the *_Ward Pharmacy_* window. The *_New / Edit_* window is shown:

image:image39.png[WardPharmacy New]

As mentioned previously, only discharging movements are allowed in this functionality. So, the information required is the following:

* *Patient* or *Internal use* or *Another Ward*: a registered patient can be selected by clicking on the *[.underline]##P##ick Patient* button so the movement is associated with his/her ID or select *Internal use* and type a description to specify that the movement is not related to a patient. Selecting *Another Ward* allows for choosing the destination ward from the list provided.
* *Medical*: first select the drug to give to that patient (the only ones that are in the ward as a result of a previous discharging movement in the *_Pharmaceutical Stock Browser_*) from the dropdown list and then press the *[.underline]##M##edical* button. It is possible to specify the quantity (multiple and half-piece are allowed) in the window shown:

image:image41.png[WardPharmacy Quantity,width=231,height=139]

If _AUTOMATICLOTWARD_TOWARD_ has been enabled, the user will be requested to select a lot (similar to
<<#insert-stock-discharging-movement,Insert Stock Discharging Movement>>).

NOTE: The lot selection can be enabled or disabled (set as automatic) by changing the flag AUTOMATICLOTWARD_TOWARD in
the configuration file, so every new discharging movement will automatically select a suitable lot for the
operation according to the expiring date (FEFO). If the first selected lot does not contain enough quantity
to serve the discharging movement, several discharging movements may be generated if the quantity laying in
other lots can satisfy the request. Ask the Administrator or check the _Administrator’s Guide_ for more information.

Before pressing the *[.underline]##O##K* button, insert as many Medicals as needed; it will show a corresponding number of movements in the *Outcomes* tab of the *Movement panel* in the *_Ward Pharmacy_* window. These movements are also visible in the *Incomings* tab of the *Movement panel* in the *_Ward Pharmacy_* window of the receiving ward, in case of discharging to another ward.

===== 4.3.2.5 Delete the Last Stock Movement in a Ward ([.underline]##D##elete)
In a pharmaceutical stock ward, it is possible to discharge medicals to *patient*, *internal use* or *another ward*. If a mistake is made during the discharge, it is possible to delete it in order to correct the stock of the ward and resume the action.

The Administrator can enable or disable the *[.underline]##D##elete* button that allows the deletion of the last movement. This aids in quickly undoing mistakes.

To delete the last movement, select first the row that you want to delete and press the Delete button in the Stock Movement Browser window. Only one row is allowed to delete at a time.

If the selection is not the last movement the following error message dialog is shown:

image:image250.png[Not last movement error]

If the row selected is the last movement then this *_Question_* message is presented:

image:image248.png[Question]

Click *[.underline]##Y##es* to confirm the deletion of the last movement, otherwise click *[.underline]##N##o* to cancel the operation. After clicking the *[.underline]##Y##es* button, if the movement discharges to another ward, the system checks if the product involved in the selected movement has not been used in the destination ward. If not, then the movement is deleted, otherwise the deletion is denied.

If the product has been used in the destination ward, then the *_Error_* message is shown:

image:image249.png[Error]

Otherwise the selected movement is deleted and the *_Success_* window is shown:

image:image251.png[success]

NOTE: This button can be enabled or disabled to control movements deletions. Ask the Administrator or check the Administrator's Guide for more information.

=== 4.4 Inventory ([.underline]##I##nventory)

==== 4.4.1 Main Characteristics

The Inventory features is used to correct the stock in the *_Main Store_*.

==== 4.4.2 Functions of Inventory

To access the functions of inventory, press *[.underline]##I##nventory* on the Pharmacy menu shown below.

image:image22.png[Phamacy Menu,width=220,height=182]

All functions available under *[.underline]##I##nventory* are accessible from the *_Inventory Browser_* window, shown below. By default, the system shows all the inventories recorded in the period.

The *_New Inventory_* window is composed of three areas: the *Search panel* at the top, the *Inventory table* in the center and the *Buttons panel* on the bottom. See the image below.

The *Search panel* at the top, allows narrowing or subsetting the inventory list by;

* *Date From* and *Date To*: dates selectors used to select a date range.
* *[status]* selector (e.g., 'all'): inventory status filter.

The *Inventory table* in the center identifies the inventory by:

* *Reference*:  the reference of the inventory
* *Date*: the date the inventory was entered into the system
* *Status*: the status of the inventory
* *User*: the user who entered the inventory

The *Buttons panel* has all the functions of the main inventory, the following choices are available:

* *[.underline]##N##ew*: create a new inventory.
* *[.underline]##E##dit*: modify an existing inventory.
* *[.underline]##V##iew*: show an existing inventory.
* *[.underline]##D##elete*: cancel an existing inventory.
* *[.underline]##C##lose*: close the window and return to the main menu.

image:image252.png[Inventory Browser]

[#create-a-new-inventory]
===== 4.4.2.1 Create a New Inventory ([.underline]##N##ew Inventory)

The *New Inventory* function is used to create a new inventory on the main store.
Press the *[.underline]##N##ew* button in the *_Inventory Browser_* window to access the *_New Inventory_* window, shown below.

The *_New Inventory_* window is composed of three areas: the *Inventory panel* at the top, the *Inventory row table* in the center and the *Buttons panel* on the bottom. See the image below.

image:image253.png[New Inventory]

Data shown in the *Inventory panel* area are:

* *Date*: the date of the inventory.
* *Reference*: the reference associated to the inventory.
* *Charge Type*: the charge movement type that will be used for the charge movement (when theoretic qty < real qty).
* *Discharge Type*: the discharge movement type that will be used for discharge movement (when theoretic qty > real qty).
* *Supplier*: the supplier that will be used for the charge movement.
* *Destination*: the ward that will be used for the discharge movement.
* *Status* (e.g. 'DRAFT'): the status of the inventory. this value of status is set automaticaly. 
+
NOTE: Destination, charge Type, discharge Type and supplier can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

Data shown in the *Inventory row table* area are:

* *Code*: the code of the phamaceutical.
* *Product*: the description of the phamaceutical.
* *New Lot*: indicates if the inventory row is for new lot or not.
* *Lot No.*: the lot code of the pharmaceutical.
* *Due Date*: the due date of the lot.
* *Theoretic Qty*: the theoretic quantity of the lot of pharmaceutical.
* *Real Qty*: the real(physical) quantity of the lot of pharmaceutical.
* *Total Cost*: the total cost that represent the real value of the lot.

*Buttons panel* is used to perform some action:

* *[.underline]##S##ave*: this button is use to save the inventory.
* *[.underline]##L##ot*: this button is use to link new lot to a new specific product (the inventory row that column *New Lot* as value *N*). to perform that, first highlighted the product and click on this button.

NOTE: This button is enable just for the inventory row that column *New Lot* has value *N* else the button is disable.

* *[.underline]##D##elete*: this button is use to remove one or the set of the inventory row.
* *Clean [.underline]##T##able*: this button is use to remove all the inventory row.
* *[.underline]##V##alidate*: used to validate the inventory.
* *[.underline]##C##onfirm*: used to validate the inventory.

NOTE: This button is enable just for the inventory with is already validated else the button is disable.

* *[.underline]##C##lose*: this button is use to back on the *_Inventory Browser_* window.

NOTE: We can insert inventory row either for specific products or for a set of products.

====== 4.4.2.1.1 Insert Inventory Row By Using TextField
 
To insert an inventory row for a specific product, enter into the field for specific product the code or the description of the pharmaceutical to insert, and press ENTER. This will open the Choose a Medical window.

image:image254.png[Choose medical]

Select the desired pharmaceutical or search the pharmaceutical by code or description using the search field and select the pharmaceutical to highlight it, then click on *[.underline]##S##elect* button to add the pharmaceutical as inventory row or click on *[.underline]##C##ancel* to back on the *_Inventory Browser_* window.

====== 4.4.2.1.2 Insert Inventory Row Product By using SELECT Button

To insert an inventory row for a set of products, click on the SELECT button. This will open the Lot Information window.

image:image255.png[Lot Information]

Select the Medical Type on the combo box and choose:

* *All*: if we need all the pharmaceutical for selected Medical Type.
* *Only non zero quantity*: if we need all the pharmaceutical for selected Medical Type with non zero quantity.
* *with movement only*: if we need all the pharmaceutical for selected Medical Type and which has at least one movement.

Then click OK to insert the inventory(ies) row(s) in the table.

[#Edit-a-new-inventory]
===== 4.4.2.2 Edit Inventory ([.underline]##E##dit Inventory)

To modify an inventory, highlight the inventory in the *_Inventory Browser_* window. Once the inventory has been highlighted, press the Edit button to enter on the *_Edit Inventory_* window, shown below. Now the record is available for changes. This function allows for editing all the data for the inventory including inventory(ies) row(s) of the inventory.

image:image256.png[Edit Inventory]

During modication we have possibility to validate the inventory by press on *[.underline]##V##alidate* button. After some seconde we will have the dialog below.

image:image266.png[Validate Inventory]

During modication we have also possibility to Confirm the inventory by press on *[.underline]##C##onfirm* button. After some seconde we will have the dialog below.

image:image267.png[Confirm Inventory]

===== 4.4.2.3 View Inventory ([.underline]##V##iew)

To view an inventory, highlight the inventory in the *_Inventory Browser_* window. Once the inventory has been highlighted, press the *[.underline]##V##iew* button to enter on the *_View Browser_* window, shown below. 

image:image258.png[View Inventory]

This function allows to view all the data for the inventory including inventory(ies) row(s) of the inventory. We also have possibility to *[.underline]##P##rint* those data.

NOTE: On view mode it is not possible to update something.

To print the inventory, press the *[.underline]##P##rint* button to print the data, shown the picture below

image:image259.png[Print Inventory]

Press *[.underline]##Y##es* button, after some time the JasperViewer® will show the generated report without real quantity as follows:

image:image260.png[Report output without real qty]

If we press *[.underline]##N##o* button, after some time the JasperViewer® will show the generated report with real quantity as follows:

image:image261.png[Report output with real qty]

===== 4.4.2.4 Delete Inventory ([.underline]##D##elete)

Delete button is used to cancel an inventory, highlight the inventory in the *_Inventory Browser_* window. Once the inventory has been highlighted, press the *[.underline]##D##elete* button, and a confirmation window is shown:

image:image257.png[Delete Inventory]

=== 4.5 Ward Inventory ([.underline]##W##ard Inventory)

==== 4.5.1 Main Characteristics

The Inventory features is used to correct the stock in the *_Ward_*.

==== 4.5.2 Functions of Ward Inventory

To access the functions of ward inventory, press *[.underline]##W##ard Inventory* on the Pharmacy menu shown below.

image:image22.png[Phamacy Menu,width=220,height=182]

All functions available under *[.underline]##W##ard Inventory* are accessible from the *_Manage Ward Inventory_* window, shown below. By default, the system shows all the inventories recorded in the period.

The *_Manage Ward Inventory_* window is composed of three areas: the *Search panel* at the top, the *Ward Inventory table* in the center and the *Buttons panel* on the bottom. see the picture below.

*Search panel* at the top, allow us to make research, we can make research by:

* *Date From* and *Date To*: dates selectors used to select a period.
* *[status]* selector (e.g. 'all'): inventory status filter.

*Inventory table* in the center has the  data that identify ward inventory like:

* *Reference*: indicates the reference of the ward inventory.
* *Ward*: indicates the ward related to the inventory.
* *Date*: indicates the date when the ward inventory was entered.
* *Status*: the status of the ward inventory.
* *User*: the user who make the ward inventory.

*Buttons panel* has all the functions of the ward inventory, the following choices are available:

* *[.underline]##N##ew*: create a new ward inventory.
* *[.underline]##E##dit*: modify an existing ward inventory.
* *[.underline]##V##iew*: show an existing ward inventory.
* *[.underline]##D##elete*: cancel an existing ward inventory.
* *[.underline]##C##lose*: close the window and return to the main menu.

image:image262.png[Ward Inventory Browser]

[#create-a-new-ward-inventory]
===== 4.5.2.1 Create a New ward Inventory ([.underline]##N##ew)

The *New Inventory* function is used to create a new inventory on the main store.
Press the *[.underline]##N##ew* button in the *_Manage Ward Inventory_* window to access the *_New Inventory_* window, shown below.

image:image263.png[New ward Inventory]

After the selection of the ward (FEMALE WARD in this example), the *_New Inventory_* window is shown, allowing for the management of the ward inventory of the FEMALE WARD:

image:image264.png[New ward Inventory]

The *_New Inventory_* window is composed of three areas: the *Inventory panel* at the top, the *Inventory row table* in the center and the *Buttons panel* on the bottom.

Data shown in the *Upper panel* area are:

* *Ward*: the ward that we are making the inventory.
* *Date*: the date of the inventory.
* *Reference*: the reference associated to the inventory.

Data shown in the *Center panel* area represente Inventory row. they are:

* *Code*: the code of the phamaceutical.
* *Product*: the description of the phamaceutical.
* *New Lot*: indicates if the inventory row is for new lot or not.
* *Lot's Code.*: the lot code of the pharmaceutical.
* *Due Date*: the due date of the lot.
* *Theoretic Qty*: the theoretic quantity of the lot of pharmaceutical.
* *Real Qty*: the real(physical) quantity of the lot of pharmaceutical.
* *Total Cost*: the total cost that represent the real value of the lot.

*Buttons panel* is used to perform some action:

* *[.underline]##S##ave*: this button is use to save the inventory.
* *[.underline]##L##ot*: this button is use to link new lot to a new specific product (the inventory row that column *New Lot* as value *N*). to perform that, first highlighted the product and click on this button.

NOTE: This button is enable just for the inventory row that column *New Lot* has value *N* else the button is disable.

* *[.underline]##D##elete*: this button is use to remove one or the set of the inventory row.
* *Clean [.underline]##T##able*: this button is use to remove all the inventory row.
* *[.underline]##V##alidate*: this button is use to validate the inventory.
* *[.underline]##C##onfirm*: this button is use to validate the inventory.

NOTE: This button is enable just for the inventory with is already validated else the button is disable.

* *[.underline]##C##lose*: this button is use to back on the *_Inventory Browser_* window.

NOTE: We can insert inventory row either for specific products or for a set of products.

===== 4.5.2.2 Edit Ward Inventory ([.underline]##E##dit)

To modify a ward inventory, highlight the inventory in the *_Manage Ward Inventory_* window. Once the inventory has been highlighted, press the *[.underline]##E##dit* button to enter on the *_Edit Inventory_* window, shown below. Now the record is available for changes. This function allows for editing all the data for the inventory including inventory(ies) row(s).

image:image268.png[Edit ward Inventory]

During modication We have possibility to validate the inventory by press on *[.underline]##V##alidate* button. After some seconde We will have the dialog below.

image:image266.png[Validate Inventory]

During modication we have also possibility to Confirm the inventory by press on *[.underline]##C##onfirm* button. After some seconde we will have the dialog below.

image:image267.png[Confirm Inventory]

===== 4.5.2.3 View Ward Inventory ([.underline]##V##iew)

To view an ward inventory, highlight the inventory in the *_Manage Ward Inventory_* window. Once the inventory has been highlighted, press the *[.underline]##V##iew* button to enter on the *_View Inventory_* window, shown below. 

image:image265.png[View Ward Inventory]

This function allows to view all the data for the inventory including inventory(ies) row(s) of the inventory. We also have possibility to *[.underline]##P##rint* those data.

NOTE: On view mode it is not possible to update something.

To print the inventory, press the *[.underline]##P##rint* button to print the data, shown the picture below

image:image259.png[Print Ward Inventory]

Press *[.underline]##Y##es* button, after some time the JasperViewer® will show the generated report without real quantity as follows:

image:image269.png[Report output without real qty]

If We press *[.underline]##N##o* button, after some time the JasperViewer® will show the generated report with real quantity as follows:

image:image270.png[Report output with real qty]

===== 4.5.2.4 Delete Ward Inventory ([.underline]##D##elete)

Delete button is used to cancel an inventory, highlight the inventory in the *_Inventory Browser_* window. Once the inventory has been highlighted, press the *[.underline]##D##elete* button on the *Buttons panel*, and a confirmation window is shown:

image:image257.png[Delete ward Inventory]

<<<

[#laboratory]
== 5 Laboratory ([.underline]##L##aboratory)

=== 5.1 Main Characteristics

The Laboratory features are used to manage the laboratory exams.

.Press the *[.underline]##L##aboratory* button or “Alt + L”.
[#default-main-menu-7]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

It is possible to create, modify or delete exams.

* Insert a new laboratory exam
* Delete (or edit) an existing exam
* Select some exams with the Search button (select the exam’s name and the range of dates for the exam)

=== 5.2 Functions of Laboratory

To access the Laboratory’s functions, press *[.underline]##L##aboratory* on the main menu of Open Hospital. The *_Laboratory Browser_* window is shown:

All functions available under *[.underline]##L##aboratory* are accessible from the *_Laboratory Browser_* window, shown below. By default, the system shows all the laboratory exams recorded in the last week.

image:image43.png[Laboratory Browser]

Data that identify laboratory exams are the following:

* *Date*: indicates the date and time when the exam was entered
* *Exam*: the description of the exam
* *Result*: the result of the exam

To access the other functions of the laboratory in the *Buttons panel*, the following choices are available:

* *[.underline]##N##ew*: enter a new laboratory exam.
* *[.underline]##E##dit*: modify an existing laboratory exam.
* *[.underline]##D##elete*: delete an existing laboratory exam.
* *[.underline]##P##rint Table*: print the list of laboratory exams shown in the table.
* *Print [.underline]##L##abel*: print the labels of the samples for laboratory exams.
* *[.underline]##C##lose*: close the window and return to the main menu.

Furthermore, a search function (*[.underline]##S##earch)* is available using the *Selection panel* on the left of the window.

==== 5.2.1 Search Laboratory Exams ([.underline]##S##earch)

The search function allows for selecting and showing laboratory exams on the *Data table* of the *_Laboratory Browser_* window.

In the example below, all types of exams executed on the date 21.11.2020 are shown in the *Data table*.

image:image43b.png[Laboratory Browser after search,width=528,height=339]

Data about exams can be selected by choosing specific fields among the following:

* *Select an exam*: Valid values are:

** _All_: exams of all types are shown
** Pick a single exam from the list; only exams of the selected type are shown

* *Date*: “Date From” and “Date To” only shows the exams executed within the requested time period

After the selection press, the *[.underline]##S##earch* button; the system shows in the table results of the search applying the criteria requested.

[#create-a-new-laboratory-exam]
==== 5.2.2 Create a New Laboratory Exam ([.underline]##N##ew)

Press the *[.underline]##N##ew* button in the *_Laboratory Browser_* window. The *_New Laboratory Exam_* window is shown:

image:image44.png[New Laboratory Exam]

To record the visit, enter the following fields:

* *Date*: the date of the exam; the application defaults to the current date.
* *Material*: choose from the available values the material used in the exam.
* *Exam*: choose the exam.
* *Patient In*: it activates itself if the selected patient is currently admitted; it is possible to change it if needed.
* *Select a patient*: select the patient that is examined. The field is not mandatory as the patient's data be input into the following fields.
* *Name*: the first and last name of the patient _(automatically filled if a patient is selected)_.
* *Age*: the age of the patient (range 0-120) _(automatically filled if a patient is selected)_.
* *Sex*: the value _M_ for male or the value _F_ for female _(automatically filled if a patient is selected)_.
* *Note*: a free-form area for notes and/or description.
* *Result*: based on the exam chosen the panel is populated with all available results for selection.

===== 5.2.2.1 Results

In Open Hospital, there are two kinds of possible results for each exam:

* *Single Result*: selection of a single result from a list (Procedure 1)
* *Multiple Results*: selection of many results from a list of positive/negative values (Procedure 2)
* Or manually inputting the precise result (Procedure 3)

image:image45.png[New Laboratory Exam Procedure 1,width=309,height=340]image:image46.png[New Laboratory Exam Procedure 2,width=309,height=340]image:image46b.png[New Laboratory Exam Procedure 3,width=309,height=340]

NOTE: Exams, Exam Type, and Results can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

When the data is specified, the *Buttons panel* provides the following choices:

* *[.underline]##O##K*: confirm and record the data.
* *[.underline]##P##rint*: print the result.
* *[.underline]##C##ancel*: close the window and return to the *_Laboratory Browser_* window.

==== 5.2.3 Modify a Laboratory Exam ([.underline]##E##dit)

To modify an exam, highlight the exam in the *_Laboratory Browser_* window. Once the exam has been highlighted,
press the *[.underline]##E##dit* button to enter the *_Edit Laboratory Exam_* window, shown below. Now the record is available for changes. This function allows for editing all the data for the exam including setting the result of the exam.

image:image47.png[Edit Laboratory Exam]

==== 5.2.4 Delete Laboratory Exam ([.underline]##D##elete)

To delete an exam, highlight the exam in the *_Laboratory Browser_* window. Once the exam has been highlighted,
press the *[.underline]##D##elete* button, and a confirmation window is shown:

image:image48.png[Delete Laboratory Exam]

=== 5.3 Laboratory Extended

The Laboratory functionality can be extended by changing the _LABEXTENDED_ flag in the configuration file. Ask the Administrator or refer to the _Administrator's Guide_.

==== 5.3.1 Extended Laboratory Browsing

If the extended Laboratory functionality is enabled, the Laboratory Browser window shows a new column containing the name of the patient.

image:image49.png[Laboratory Browser,width=642,height=309]

The presence of the patient name column is required by this mode.

==== 5.3.2 New Laboratory Exam ([.underline]##N##ew)

The *_New Laboratory Exam_* window is now strictly related to the patient, that is to say, the exam must be assigned to a patient previously registered in the system.

Before one closes the window with the exam result, a patient must be selected from the list; the fields in the *Patient's Data* panel provide some simple patient details.

A search field can be used to find a patient by typing part of his/her name or his/her Open Hospital code (which is specified in the Patient window, see *_Patient Extended_*).

The *_New Laboratory Exam_* window is shown:

image:image50.png[New Patient Exam]

The *Patient’s Data* panel cannot be modified except for the *Note* field which only shows the information related to the selected patient.

[#laboratory-multiple-insert]
==== 5.3.3 Laboratory Multiple Insert

The _New Laboratory_ functionality can be extended by changing the _LABMULTIPLEINSERT_ flag in the configuration file. The flag _LABEXTENDED_ has to be enabled too. Refer to the _Administration's Guide_.

The New Laboratory Multiple allows multiple exam insertions for each patient, avoiding repeating the new laboratory exam procedure (*[.underline]##N##ew*) for every exam for the same patient.

===== 5.3.3.1 New Patient Exams ([.underline]##N##ew)

Press the *[.underline]##N##ew* button in the *_Laboratory Browser_* window: The *_New Patient Exams_* window is shown (including sample exam data):

image:image51.png[New Patient Exams]

To record the visit, enter the following fields:

* *Date*: the date of the exam, the application defaults to the current date.
* *Patient*: select a patient by pressing the *Find [.underline]##P##atient* button.
* *OPD/IPD*: the window automatically checks if the patient is admitted or not in the hospital; the value can be changed if needed.
* *[.underline]##E##xam*: choose the exam. The first window asks for the material. Then a second window asks for the exam. Finally, a third window asks for the result if the exam allows only a single result; otherwise, the list of multiple results is shown in the right panel, together with the chosen material.
* *[.underline]##R##emove*: remove a selected exam.
* *Note*: additional exam reporting (different for each exam).

NOTE: At any time, before pressing *[.underline]##O##K*, modifications can be made to every exam by clicking on it in the list and changing material, results, or notes in the related panels.

<<<

== 6 Accounting (A[.underline]##c##counting)

=== 6.1 Main Characteristics

Accounting is the function that is used to manage the billing process where bills for pharmaceuticals, operations, exams, and other costs of a patient are created and managed. Currently, the billing process is not linked with other functions of *Open Hospital* and therefore the application does not generate the accompanying billing information based on the therapy followed by the patient: [.underline]#the billing information must be input for all items manually.#

In addition, the accounting function supports the management of bill payments (total or partial) and the generation of reports.

.Press the *A[.underline]##c##counting* button or “Alt + C” to open the Accounting submenu
[frame=none]
[grid=none]
[caption="Submenu: "]
|===
|image:OH-main_menu.png[OH Main Menu]|image:image52.png[Accounting SubMenu]
|===

=== 6.2 Functions of Accounting

All functions available under *A[.underline]##c##counting* are accessible from the *_Patients Bills Management_* window, shown below. To access the *_Patient Bills Management_* window,
press *Bill [.underline]##M##anager* on the *_Accounting_* menu.

By default, the window shows in the *Data table* all the bills for today (current day).

image:image241.png[Patient Bills Management]

For each bill, the following [.underline]##data## are shown in the *Data table*:

* *USER*: the user who initially created or later updated the bill
* *ID*: the number of the bill (created automatically by the application).
* *DATE*: the date and time of the bill creation.
* *PAT ID*: the patient's ID (created automatically by the application at the registration time).
* *PATIENT*: the patient's name.
* *AMOUNT*: the total amount of the bill.
* *LAST PAYMENT*: the date and time of the last payment.
* *STATUS*: the status of the bill; values are: ”O” (open) if not fully paid; ”C” (closed) if fully paid.
* *BALANCE*: the bill amount which has not yet been paid.
* *IN/OUT*: the bill refers to an admission or OPD

The following [.underline]##filter options## are available at the *Upper panel* of the *_Patient Bills Management_* window:

* *[user]* selector (e.g. 'admin'): users (cashiers) filter
* *[.underline]##T##oday*: shows in the *Data table* only the bills for the current day.
* *Date From* and *Date To*: dates selectors used to select a period
* *[Month]* selector (e.g. 'December'): to quickly select one month in *Date From* and *Date To* field
* *[year]* selector (e.g. '2022'): to quickly select a year in *Date From* and *Date To* field
* *[Patient]* selector: to filter bills for a patient within the specified *Date From* and *Date To* period

The following [.underline]##functions## are accessible from the *Buttons panel* of the *_Patient Bills Management_* window:

* *[.underline]##N##ew Bill*: insert a new bill.
* *[.underline]##E##dit Bill*: modify a stored bill if its status is “O” (Open).
* *[.underline]##D##elete Bill*: delete a stored bill (does not remove the bill but changes the status to “D”).
* *Recei[.underline]##p##t*: print a bill receipt.
* *[.underline]##R##eport*: print a variety of reports.
* *[.underline]##C##lose*: exit from *_Patients Bills Management_* and return to the main menu

Furthermore, the *_Patient Bills Management_* window shows an *Incomes Table* with the following information:

* *First Row*: the *PAID* and *UNPAID* amounts (in the specified currency) for *Today*
* *Second Row*: the *PAID* and *UNPAID* amounts (in the specified currency) for the visualized *Period*
* *Third Row*: the amount *PAID* for *Today* and within the selected *Period* for the selected *User*

NOTE: The USER column, The [User] selector and the *Third Row* are shown only in multi-user mode (see <<save-function-accounting>>)

[#insert-a-new-bill]
==== 6.2.1 Insert a New Bill ([.underline]##N##ew Bill)

The *New Bill* function is used to generate a new bill for a patient.
Press the *[.underline]##N##ew Bill* button in the *_Patients Bills Management_* window to access the *_New Patient Bill_* window, shown below.

To record a new bill, it must be saved with the *[.underline]##S##ave* function (see description below).

Before describing the function of the *_New Patient Bill_* window, the components of the window are described.

The *_New Patient Bill_* window is composed of four areas: the *Bill panel* at the top, the *Item panel* in the center, the *Payments panel* at the bottom, and the *Buttons panel* on the right.

Bills are composed of items. A billing item is a cost related to either a pharmaceutical, an operation, an exam, or other/custom costs.

Data shown in the *Bill panel* area are:

* *Date*: the date and time of the bill.
* *Patient*: the patient associated with the bill.
* *List*: the Price List that will be used for this bill +
 +
NOTE: Price Lists can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

Data shown in the *Item Panel* area are:

* *ITEM, QTY, AMOUNT*: the descriptions of the bill entry, the selected quantity, and the amount; the amount is calculated as the unit cost of the item multiplied by the quantity;
* *TOTAL*: the total amount of the bill +
 +
NOTE: Prices, or unit costs, can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

Data shown in the *Payments panel* area are:

* *Date*: the date and time of the payment.
* *Amount*: the amount of the payment.
* *BALANCE*: the remaining amount to be paid (the difference between the Total (*) and the sum of the payments).

image:image54.png[New Patient Bill]

To insert a new bill, the *Date field* value is required. The application defaults to the current date and time, but the values can be modified.

In addition, a patient must be selected. To do that, press the *Find [.underline]##P##atient* button on top of the screen. The *_Patient Selection_* window is shown:

image:image54a.png[Patient Selection]

Once the patient is selected, start entering the data related to the bill.

NOTE: A patient can have several pending bills only if the parameter ALLOWMULTIPLEOPENEDBILL is enabled
(see the Administrator Manual). Otherwise, if the patient has a pending bill, the bill will be recalled to
edit it. A new bill cannot be started for a patient before closing the previous bill.

There are several types of bill categories (or types) identified by the buttons in the *Buttons panel* on the right of the window:

* *[.underline]##M##edical*: enter bill entries for pharmaceuticals.
* *[.underline]##O##peration*: enter bill entries for operations.
* *[.underline]##E##xam*: enter bill entries for exams.
* *O[.underline]##t##her*: enter other prices defined in the Price List.
* *C[.underline]##us##tom*: enter custom items defined on the fly.

NOTE: Types can be defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

===== 6.2.1.1 Insert a Bill Entry Related to Medicals, Operations or Exams ([.underline]##M##edical, [.underline]##O##peration, [.underline]##E##xam)

We show here how to insert a bill entry for pharmaceutical (*[.underline]##M##edical*); the function to insert a bill entry for operation (*[.underline]##O##peration)* and exam (*[.underline]##E##xam)* is the same with the only difference that for the last two the quantity is not required (the quantity is always 1).

image:image55.png[New Patient Bill]

To insert a bill entry, press the *[.underline]##M##edical* button. The *_Medical_* window is shown:

image:image56.png[Medical]

Using the mouse, highlight the required pharmaceutical (medical).

The *Buttons panel* of the *_Medical_* window has the following choices:

* *[.underline]##O##K*: select the highlighted pharmaceutical
* *[.underline]##C##ancel*: return to the *_New Patient Bill_* window without selecting any pharmaceutical

If *[.underline]##O##K* is selected, the *_Quantity_* window is shown, where the quantity of the pharmaceutical used by the patient can be entered:

image:image57.png[Quantity]

The *Buttons panel* of the *_Quantity_* window has the following choices:

* *[.underline]##O##K*: select the highlighted pharmaceutical and return to the *_New Patient Bill_* window.
* *[.underline]##C##ancel*: return to the *_New Patient Bill_* window without selecting any pharmaceutical.

===== 6.2.1.2 Insert a Bill Entry Related to Various Custom Reasons (C[.underline]##u##stom)

To insert a custom bill entry, press the *C[.underline]##u##stom* button. The application will show the *_Custom Item_* window, shown below.

image:image58.png[Custom Item]

In this window, enter a description for the custom item (in the example above, it is “Number of days of hospitalization”).

The *Buttons panel* of the *_Custom Item_* window has the following choices:

* *[.underline]##O##K*: go to another *_Custom Item_* window (to enter the quantity, see below).
* *[.underline]##C##ancel*: return to the *_New Patient Bill_* window without inserting any custom bill entry.

image:image59.png[Custom Item Cost]

In the *_Custom Item_* window, enter the amount related to the bill entry (in the example above, the “20” is in the local currency, i.e., it is in US dollars if the country is the USA).

The *Buttons panel* of the *_Custom Item_* window has the following choices:

* *[.underline]##O##K*: confirm the bill entry and return to the *_New Patient Bill_* window.
* *[.underline]##C##ancel*: return to the *_New Patient Bill_* window without inserting any bill entry.

===== 6.2.1.3 Remove a Bill Entry of a Bill (Remove Item)

To remove a bill entry, select the bill in the *_New Patient Bill_* window and then press the *Remove Item* button. The selected bill entry is removed. Bill entries can be removed before or after the final saving (see the
<<save-function-accounting,Save function>> described below).

===== 6.2.1.4 Insert a Payment (Pa[.underline]##y##ment)

To insert a payment, press the *Pa[.underline]##y##ment* button. The application shows the *_Quantity_* window, shown below.

image:image60.png[Payment]

Provide the amount of the payment (in the example above, the “12” is in the local currency, i.e. it is US dollars if the country is the USA) in the text field.

The *Buttons panel* of the *_Quantity_* window has the following choices:

* *[.underline]##O##K*: confirm the payment and return to the *_New Patient Bill_* window.
* *[.underline]##C##ancel*: return to the *_New Patient Bill_* window without inserting any payment.

===== 6.2.1.5 Insert a Refund ([.underline]##R##efund)

Sometimes the cashier has to process a refund for the patient; in this case, press the *[.underline]##R##efund* button and insert the amount of the refund. The amount is converted to a negative value and added to the payments list.

===== 6.2.1.6 Payment Receipt (Payme[.underline]##n##t Receipt)

A Payment receipt can be printed at any time given that at least one payment is made.
Click the *Payme[.underline]##n##t Receipt* button.

===== 6.2.1.7 Remove a Payment (Remo[.underline]##v##e Payment)

A payment can be removed by selecting the payment in the *_New Patient Bill_* window and then pressing the *Remo[.underline]##v##e Payment* button.

===== 6.2.1.8 Give Change ([.underline]##G##ive Change)

Sometimes it could be useful to calculate the difference between the bill balance and the payment amount the patient is making when paying their bill. By pressing the *[.underline]##G##ive Change* button, the amount the patient is paying must be specified and the program calculates the difference between the payment and the current bill balance. If the amount being paid is greater than the bill balance (i.e., they are overpaying), the amount of change to give to the patient is displayed.

[#save-function-accounting]
===== 6.2.1.9 Save Function ([.underline]##S##ave)

When all the data input for a bill is completed (bill or payments), press the *[.underline]##S##ave* button in the *Buttons panel* of the *_New Patient Bill_* window.

The application saves the bill and returns to the *_Patient Bills Management_* window; the status of the bill is “O” (Open) until it is PAID (*P[.underline]##a##id*).

===== 6.2.1.10 Paid Function (P[.underline]##a##id)

If the patient is going to pay the complete amount of the bill, press the *P[underline]##a##id* button. If the balance is not equal to zero, the system automatically adds a payment in the payments list equal to the balance and sets the bill as “C” (Closed).

===== 6.2.1.11 Print Receipt Function

A receipt can be printed at any time by pressing the *P[.underline]##a##id* button__. To enable this feature, the RECEIPTPRINTER__ flag in the configuration file must be set and a proper printer device must be connected to the system. Ask the Administrator or refer to the _Administrator’s Guide_.

===== 6.2.1.12 Close Function ([.underline]##C##lose)

The close function allows for optionally exiting from the *_New Patient Bill_* window without saving changes.
Press the *[.underline]##C##lose* button to access the close function. The confirmation window is shown:

image:image61.png[Confirmation]

==== 6.2.2 Edit an Existing Bill ([.underline]##E##dit Bill)

To modify an existing bill, select the bill in the *_Patient Bills Management_* window and then press the *[.underline]##E##dit Bill* button. The *_Edit Patient Bill_* window is shown:

image:image61a.png[Edit Patient Bill Female Ward]

NOTE: Only bills with a status of “O” (Open) can be modified by enabled users (See <<users-groups, User & Groups>>); otherwise, an A4 report is shown.

If the bill, at the time of creation, was related to an admitted patient, the related ward is shown in the upper right.

If the patient's status has changed, the application prompts for the next action:

*Case 1)*

image:image61b.png[Question This patient is no longer admitted. Do you want to unlink this bill from the previous admission?]

If the answer selected is "Yes", the bill is updated and belongs to the "OPD" category (no admission).

image:image61c.png[Edit Patient Bill OPD]

If the answer selected is "No", the bill remains unchanged and continues to belong to the original admission.

image:image61a.png[Edit Patient Bill Female Ward]

*Case 2)*

image:image61d.png[Question This patient is admitted now. Do you want to link this bill to the current admission?]

If the answer selected is "Yes", the bill is updated and belongs to the current admission.

image:image61e.png[Edit Patient Bill Maternity Ward]

If the answer selected is "No", the bill is unchanged and is associated with the "OPD" category (no admission)

image:image61c.png[Edit Patient Bill OPD]

*Case 3)*

image:image61f.png[Question This bill was linked to a previous admission. Do you want to link it to the current admission instead?]

If the answer selected is "Yes", the bill is updated and belongs to the current admission.

image:image61e.png[Edit Patient Bill Maternity Ward]

If the answer selected is "No", the bill is unchanged and belongs to the original admission.

image:image61a.png[Edit Patient Bill Female Ward]

The relation of a bill with a patient admission is found in the last column in the "Patient Bills Management" window:

image:image61g.png[Patient Bills Management]



==== 6.2.3 Delete a Bill ([.underline]##D##elete Bill)

To delete an existing bill, select the bill in the *_Patient Bills Management_* window and press the *[.underline]##D##elete Bill* button. The *_Delete_* window is shown:

image:image62.png[Delete Bill]

NOTE: Generally, this functionality is not allowed for regular users and should be performed only by the Administrator.

==== 6.2.4 Receipt (Recei[.underline]##p##t)

A bill receipt can be printed directly from the *_Patient Bills Management_* window. Highlight the bill
and click the *Recei[.underline]##p##t* button. A proper printer device must be connected to the system.

==== 6.2.5 Reports ([.underline]##R##eport)

The Open Hospital accounting module comes with a set of reports hereby listed:

* *Today (Closure)*: a report that shows the current user incomes
* *Today*: a report that shows a statement with all paid and unpaid bills for today
* *Period*: a report that shows a statement with all paid and unpaid bills within the period currently selected
* *This month*: a report that shows a statement with all paid and unpaid bills within the current month
* *Select month*: a report that shows a statement with all paid and unpaid bills within the specified month
* *Patient's Statement*: a report that shows a statement with all paid and unpaid bills for the selected patient

image:image63.png[Report Selection]

For each report, except Today (Closure), one of the following options must be chosen:

* *Short Report (only BadDebts bills)*: a report that shows a statement with only the unpaid bills and the total for the others
* *Full Report (all bills)*: a report that shows a statement with all paid and unpaid bills

image:image64.png[Report Options]

Once the choice has been made, after some time the JasperViewer® will show the generated report as follows:

image:image65.png[Report output]

NOTE: By default, an internal PDF viewer is used. An external PDF reader can be used by modifying the INTERNALVIEWER flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

The PDF report can be saved by clicking on the save button (image:image66.png[Report save icon,width=21,height=19]). The report can also be printed by clicking
on the print button (image:image67.png[Report print icon,width=21,height=18]).

NOTE: A PDF copy of every report is always saved within the folders of Open Hospital. Ask the Administrator or refer to the _Administrator’s Guide_.

[#functions-accounting]
=== 6.3 Functions of Accounting in Multi-user Mode

In multi-user mode, the Incomes Table will show only the Incomes for the logged user:

image:image68.png[Patient Bills Management,width=641,height=468]

So, the *Incomes Table* will show the following information:

* *First Row*: the *PAID* and *UNPAID* for *Today*
* *Second Row*: the *PAID* and *UNPAID* for the specified *Period*
* *Third Row*: the *PAID* and *UNPAID* for the current *user* for *Today*

The Administrator, or any enabled user (See <<users-groups, User & Groups>>), can filter all incomes for all users with a payment amount:

image:image69.png[Filter Patient Bills Management]

<<<

[#vaccines]
== 7 Vaccines ([.underline]##V##accines)

=== 7.1 Main Characteristics

The vaccines functions are used to manage vaccines for all the registered patients. It is possible to register vaccinations, modify or delete them. A specific search function is also available.

.Click with the mouse on the button or press "Alt + V" to enter the *_Patient Vaccine Browser_* window
[#default-main-menu-9]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

=== 7.2 Functions of Vaccines

All functions available under *[.underline]##V##accines* are accessible from the window *_Patient Vaccine Browser_* window, shown below.

By default, the window shows in the *Data table* all the vaccinations added to the system in the last week.

image:image71.png[Patient Vaccine Browser,width=594,height=263]

The following functions are accessible from the *Buttons panel* of the *_Patient Vaccine Browser_* window:

* *[.underline]##N##ew*: insert a new vaccination.
* *[.underline]##E##dit*: modify a stored vaccination.
* *[.underline]##D##elete*: delete a stored vaccination.
* *[.underline]##C##lose*: exit from the *_Patient Vaccine Browser_* window and return to the main menu.

Furthermore, there is a search function available in the *Selection panel* on the left of the window.

==== 7.2.1 Search Vaccinations

Queries about vaccinations can be done using the search criteria available in the *Selection panel* area of the window (left side of the window). The results of the search are shown in the *Data table* area.

Vaccinations can be selected by choosing specific field values from the following list:

* *Vaccine type*: selection of a vaccine type to filter the vaccines list
* *Vaccine*: select a specific vaccine or all vaccines with "All vaccines”
* *Date*: “**Date: From**” and “**Date: To**” subsets the vaccinations to a specific time period
* *Age*: “**Age From**” and “**Age To**” subsets the patients subject to vaccinations by an age range
* *Sex*: All / Male / Female

NOTE: Vaccine Types and Vaccines can be defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

After the selection, press the *[.underline]##S##earch* button; the system shows in the *Data table* the results of applying the search criteria requested.

The function also shows in the field “Count:” the number of vaccinations that are shown in the *Data table* (in the example, there are 26).

image:image72.png[Search Vaccines,width=619,height=245]

==== 7.2.2 Insert a New Patient Vaccination ([.underline]##N##ew)

This function is used to register a new patient vaccination.

Press the *[.underline]##N##ew* button in the *_Patient Vaccine Browser_* window to access the *_New Patient Vaccine_* window, shown below.

image:image73.png[Enter a new patient vaccintation]

To record a new patient vaccination, enter the following fields:

* *Date*: the date of the vaccination
* *Progressive*: the progressive number in the year (set automatically by the system)
* *Patient*: select the patient by entering the *Patient code* or selecting a patient
* *Vaccine Type*: the Vaccine Type
* *Vaccine*: the vaccine

NOTE: Vaccine Types and Vaccines can be defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

When all the required information is entered, the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm the data and record the patient vaccination.
* *[.underline]##C##ancel*: close the window and return to the *_Patient Vaccine Browser_* window without recording the patient vaccination,

==== 7.2.3 Modify Data of a Recorded Patient Vaccination ([.underline]##E##dit)

To modify data of a patient vaccination, select the vaccination in the *_Patient Vaccine Browser_* window and then press the *[.underline]##E##dit* button. When the *_Edit Patient Vaccine_* window is shown, the record is available for changes. Date, vaccine type, and the vaccine can be changed:

image:image74.png[Edit a patient vaccination]

All the data for the vaccination can be changed except for the patient associated with the vaccination.

Once all the changes are made, the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm the new values (all the previous values will be lost).
* *[.underline]##C##ancel*: close the window and return to the *_Patient Vaccine Browser_* window without changing any values.

==== 7.2.4 Delete a Patient Vaccination ([.underline]##D##elete)

To delete a stored patient vaccination, select the vaccination in the table in the *_Patient Vaccine Browser_* window. Next,
press the *[.underline]##D##elete* button. The confirmation window is shown. The vaccination can then be deleted. Deleted vaccinations are no longer available.

image:image75.png[Delete a patient vaccinaton]

=== 7.3 Vaccines Extended ([.underline]##V##accines)

The vaccine functionality can be extended by changing the _PATIENTVACCINEEXTENDED_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

==== 7.3.1 Extended Vaccine Browsing

The extended version of the window looks like the following:

image:image76.png[Patient Vaccine Browser Extended,width=642,height=254]

The only difference is that there is a new column containing the name of the patient.

<<<

[#admission-patient]
== 8 Admission/Patient ([.underline]##A##dmission/Patient)

=== 8.1 Main Characteristics

The Admission/Patient functionality allows registering a new patient, modifying their personal details, browsing their history, and admitting them to a hospital ward.

.Click with the mouse on the button or press "Alt + A" to enter the *_Patient Browser_* window
[#default-main-menu-10]
[caption="Main Menu: "]
image:OH-main_menu.png[Main Menu]

NOTE: An OPD registration can be started from here if the OPDEXTENDED flag is set to YES. Ask the Administrator or refer to the _Administrator’s Guide_.

=== 8.2 Functions of Admission/Patients

All the functions available under *[.underline]##A##dmission/Patient* are accessible from the *_Patient Browser_* window, shown below.

By default, the window shows a *Data table* with all of the patients currently present in the system.

image:image78.png[Patient Browser,width=600,height=300]

NOTE: If the list of patients becomes very large, it is likely to result in a slowdown of the system, depending on the
network settings. It is possible to optimize the use of memory by changing the flag ENHANCEDSEARCH in the
configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

The following data are shown in the *_Patient Browser_* window:

* *Code*: the patient's code (automatically generated by the application)
* *Name*: the patient's full name
* *Age*: the patient's age in years, months, and days
* *Sex*: the patient's sex
* *City / Address / Telephone / Note*: all this information separated by a “-“
* *Ward*: the ward where this patient is currently admitted; this field is blank if the patient is not admitted to the hospital at the current time

The following functions are accessible from the *Buttons panel* of the window *_Patient Browser_* window:

* *[.underline]##N##ew*: insert a new patient.
* *[.underline]##E##dit*: modify an existing patient.
* *Dele[.underline]##t##e*: delete an existing patient.
* *[.underline]##A##dmission*: manage the admission of the patient in the hospital.
* *Ana[.underline]##m##nesis*: manage the medical history, case history, or anamnesis of a patient.
* *E[.underline]##x##amination*: manage the patient examination.
* *[.underline]##O##PD*: start an OPD visit on the selected patient.
* *[.underline]##L##aboratory*: start a new laboratory exam on the selected patient.
* *[.underline]##B##ill*: start a bill on the selected patient.
* *Da[.underline]##t##a*: modify data for a patient, including the history of their admissions/out of patient visits as well as their malnutrition data.
* *Clinical [.underline]##S##heet*: analyze the clinical sheet of a patient and print it.
* *T[.underline]##h##erapy*: manage the therapy of a patient.
* *[.underline]##C##lose*: exit from the *_Patient Browser_* window and return to the main menu.

NOTE: It is possible to have an *[.underline]##I##maging* function that allows for the loading and viewing of image files for the selected patient by changing the flag DICOMMODULEENABLED in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

NOTE: It is possible to have a *[.underline]##M##erge* function that can be used in the case of double patient
registration, by changing the flag MERGEFUNCTION in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

Furthermore, a search function is available using the *Selection panel* on the left of the window.

==== 8.2.1 Search Patient

Queries about patients can be done using the search criteria available in the *Selection panel* area of the window (left side of the window). The results of the search are shown in the *Data table* area.

Patient selection can be accomplished by specifying a specific value for the fields in the following list:

* *Admission Status.* The choices are:

** *All*: all patients are included in the selection
** *Admitted*: only patients admitted are included in the selection
** *Not Admitted*: only patients not admitted are included in the selection

* *Ward.* Select one or more wards:
** *Children Ward*
** *Female Ward*
** *Male Ward*
** *Maternity Ward*

* *Age.* Specify the patient's age range
* *Sex.* Specify the patient's gender:
** *All*
** *Male*
** *Female*

* *Search Key* Any character string entered is matched against the patient's name and address.
A complete string or only some characters can be entered, and the system will show all the patients matching the string. For example, entering, “isabe”, will result in all patients who have “isabe” in their name being selected and displayed; so both "Glennis Isabelle" and "Isaiah Isabelle" are shown.

image:image79.png[Patient Browser Search,width=600,height=300]

NOTE: Wards can be defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

==== 8.2.2 Search Patient Enhanced

When the number of registered patients becomes huge, memory usage can be optimized by changing the _ENHANCEDSEARCH_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

Once the enhanced search has been enabled, the new *_Patient Browser_* window looks like the following:

image:image80.png[Patient Browser Enhanced Search,width=600,height=300]

Initially, the list is empty. To show some patients, enter a search criterion in the
*Search Key* field and then press the search (image:image81.png[Search icon,width=15,height=15]) button and the window will show only patients matching the specified criteria.

image:image82.png[Patient Browser Enhanced Search results,width=600,height=300]

Moreover, further search criteria are added in this mode:

* *Admission Date*: search for all patients admitted in between the specified dates, regardless if they are still admitted or not
* *Discharge Date*: search for all patients discharged in between the specified dates, regardless if they were admitted again later on

NOTE: To show the full patient list again, just press the search button with an empty search criterion.

=== 8.3 Insert a New Patient ([.underline]##N##ew)

This function is used to register a new patient into the hospital.

Press the *[.underline]##N##ew* button in the *_Patient Browser_* window to access the *_New Patient_* window, shown below.

image:image83.png[New Patient]

To record a new patient, enter the following fields:

* *First Name*: the patient's first name
* *Second Name*: the patient's last name or other names
* *Age*: the patient's age in years
* *Sex*: the patient's sex: male or female
* *Address*: the address of where the patient lives
* *City*: the city where the patient lives
* *Next of Kin*: the name of the patient's closest relative
* *Telephone*: the patient's telephone number
* *Note*: a free text for adding notes about the patient

When data entry has been completed, observe that the *Buttons panel* has two choices:

* *[.underline]##O##K*: confirm the data and add the patient's record.
* *[.underline]##C##ancel*: close the window and return to the *_Patient Browser_* window without adding the patient.

==== 8.3.1 Modify Data of a Patient ([.underline]##E##dit)

To modify the data of a patient, select the patient in the *_Patient Browser_* window and then press the *[.underline]##E##dit* button. When the *_New Patient_* window is shown, the record is available for changes. All the data can be changed.

image:image83e.png[Edit Patient,width=416,height=386]

When modification of the data has been completed, observe that the *Buttons panel* has two choices:

* *[.underline]##O##K*: confirm the new values (all the previous values will be lost).
* *[.underline]##C##ancel*: close the window and return to the *_Patient Browser_* window without changing the patient's data.

==== 8.3.2 Delete a Patient (Dele[.underline]##t##e)

To delete a stored patient, select the patient in the *_Patient Browser_* window.
Next, press the *Dele[.underline]##t##e* button. The name of the patient is shown in the *_Question_* window below: by pressing "yes", the patient's data is deleted. Deleted information is no longer available in the system. _The patient is not completely removed from the system; ask the Administrator to restore the data if needed._

image:image84.png[Delete a Patient]

In the *Buttons panel*, the choices are:

* *[.underline]##Y##es*: confirm the deletion of the patient.
* *[.underline]##N##o*: close the window and return to the previous window.

[#insert-a-new-patient-extended]
=== 8.4 Insert a new Patient Extended ([.underline]##N##ew)

The New Patient functionality can be extended by changing the _PATIENTEXTENDED_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

==== 8.4.1 Additional Features

The *New Patient Extended* module affords the following improvements:

image:image85.png[New Patient Extended,width=642,height=427]

To record a new patient, the following fields are available:

* *Tax Number ID*: is the national ID or other ID that uniquely identifies the patient
* *Age / BirthDate / Description*: the age can be specified in three different ways:
 +
image:image86.png[Age by Age,width=187,height=74]image:image87.png[Age by Birthdate,width=188,height=74]image:image88.png[Age by Description,width=183,height=74]
 +
Regardless of how it is entered, the age is converted to an age in years in the *_Patient Browser_* window.

NOTE: The date picker includes a "Clear" option (lower right corner) to remove or clear the current date value.
image:image87a.png[Age by Age,width=187,height=74]

* *BloodType*: valid values are 0+, A+, B+, AB+, 0-, A-, B-
* *Marital Status*: valid values are Single, Married, Divorced, and Widowed. If left empty, the default is Unknown
* *Profession*: valid values are Other, Farming, Construction, Medicine, Food/Hospitality, Homemaker, Mechanic, Business, Janitorial Services, Mining, and Engineering. If left empty, the default is Unknown
* *Father's Name*: specify the name of the patient's father and if he is still alive
* *Mother's Name*: specify the name of the patient's mother and if she is still alive
* *Parents Together*: specify if the parents are still together
* *Has Insurance*: specify if the patient has a health financial protection plan (insurance)
* *Load File*: a button used to load a patient's picture (which will be cropped and squared)

NOTE: Age Types (Descriptions) can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

==== 8.4.2 Height and Weight Functionality (Height and Weight)

The height and weight of the patient are not required when registering a new patient. It is done through the examination module available in the *_Patient Browser_* window.

==== 8.4.3 Patient Photo ([.underline]##N##ew Photo)

The New Patient functionality can be extended by changing the
__[.underline]#VIDEOMODULEENABLED#__ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

Once the video module has been enabled, the *_New Patient_* window looks as follows:

image:image89.png[New Patient Extended photo,width=587,height=339]

By clicking on the *[.underline]##N##ew Photo* button, the webcam should be activated (check for any lights on the device). The *Patient Photo* window should show what the camera is pointing at.

image:image89a.png[Webcam photo,width=591,height=392]

By clicking on the *Capture* button a picture is taken and the location of the selection is shown in red.

image:image89b.png[Attach photo,width=591,height=392]

By clicking on the *OK* button the picture is attached to the patient information.

image:image88p.png[Attach photo,width=591,height=392]

By clicking again on the *[.underline]##N##ew Photo* button, a picture is taken ready to be attached to the patient information.

NOTE: If the camera does not function, then change the flag to DEBUG in the configuration file to generate additional
diagnostic information. Ask the Administrator or refer to the _Administrator’s Guide_.

====== 8.4.6 Anamnesis
The medical history, case history, or anamnesis of a patient is information gained by a physician by asking specific questions either of the patient or of other people who know the person and can give suitable information.  The aim is to obtain information useful in formulating a diagnosis and providing medical care to the patient.

To modify the anamnesis data of a patient, select the patient in the *_Patient Browser_* window and then press the *[.underline]##E##dit* button. When the *_Edit Patient_* window is shown, click on the *_Anamnesis_* button and the record is available for changes. All the data can be changed.

image:image247.png[Anamnesis]

====== 8.4.7 Patient Consensus
Consent from a patient is needed regardless of the procedure, whether it's a physical examination or something else. The principle of consent is an important part of medical ethics and international human rights law.
 In Open Hospital there are two types of Patient consent:
- Consent to treatment: consent to treatment means a person must give permission before they receive any type of medical treatment, test or examination. This field is mandatory.
- Consent to additional services - consent to additional services means that the person consents to the use of the registered data for additional services, such as communications, mails, calls, follow ups reminders, digital services, etc. This field is NOT mandatory, but one hospital may decide to introduce it in its paper forms.

=== 8.5 Admission Functions ([.underline]##A##dmission)

The admission functions include the managing of patient admission, including surgery, delivery, and discharge.

To access the Admission function, first highlight the patient in the *_Patient Browser_* window.
Next, press the *[.underline]##A##dmission* button.

If the patient is not admitted, then the *_New Admission_* window is shown.

If the patient is already admitted, then the *_Edit Admission Record_* is shown.

[#start-the-admission-of-a-patient]
==== 8.5.1 Start the Admission of a Patient ([.underline]##A##dmission)

Once a patient is registered, they can be admitted to a hospital ward.

First, to insert the admission of a patient, highlight the patient in the *_Patient Browser_* window. Once this is done,
press the *[.underline]##A##dmission* button. The *_New Admission_* window is shown (if the patient is already admitted the *_Edit Admission Record_* window is shown):

image:image92.png[New Admission,width=637,height=334]

To start an admission, enter the appropriate date into the following fields (on the right side of the window):

* *Ward*: the ward where the patient is admitted
* *From Health Unit*: (not mandatory) in case of referral, optionally enter the name of the facility where the patient came from
* *Progressive in Year*: is the progressive number per year and per ward automatically set by the system; the value can be changed as needed
* *Admission Date*: the date of the admission, automatically set to today
* *Admission Type*: the type of admission (i.e. Ambulance, Self, Referral, etc.)
* *Malnutrition*: (not mandatory) in case of malnutrition, optionally check this box so management of the malnutrition control can be done in the *_Patient Data_* window (see the Malnutrition control function).
* *Diagnosis IN*: the diagnosis the patient was admitted with

TIP: It is possible to filter to find diseases more easily. To do this, enter a text fragment in the search field that is part of the disease name. The closer the search text comes to the name of the disease being searched for, the more precise the search is.

NOTE: Wards, Admission Types, and Diagnosis can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

NOTE: The "Progressive in Year" field is automatically populated by the program; in the case of maternity, the
counter starts from the first of January or from the first of June based on the current norm for the health facility. To change the behavior please ask the Administrator to set the
[.underline]#MATERNITYRESTARTINJUNE# flag in the configuration file or refer to the _Administrator’s Guide_.

When data entry has been completed, observe that the *Buttons panel* has the following choices:

* *[.underline]##S##ave*: confirm and persist the current values.
* *E[.underline]##x##amination*: open the *_Examination_* window (see
<<patient-examination,Patient examination>>).
* *[.underline]##C##lose*: close the window and return to the *_Patient Browser_* window without applying any changes.

Once the *[.underline]##S##ave* button is pressed, the *_New Admission_* window closes and the patient's status is changed in the *_Patient Browser_* window as shown in the following figure:

image:image93.png[Patient admitted,width=642,height=167]

[#patient-examination]
==== 8.5.2 Patient Examination

During a patient examination patient, general parameters such as weight, height, arterial pressure, heart rate, temperature, saturation, respiratory rate, and auscultation can be recorded. Open Hospital calculates the patient's BMI automatically.

There are two ways to access the module. In the *_Patient Browser_* window, highlight the patient
and click *E[.underline]##x##amination.* Or in the *_New Admission_* or *_Edit Admission Record_* window,
click the *E[.underline]##x##amination* button. The following window is shown:

image:image94.png[Patioent examination,width=642,height=310]

The window is divided into two areas: The panel on the left is where new information is entered and the area where the examination history is displayed is on the right.

Enter the following information:

* *Date*: the date of the examination; by default, it is set to the current date and time
* *Height*: the patient's height (in cm)
* *Weight*: the patient's weight (in Kg)
* *Arterial Pressure*: the patient's arterial pressure (in mmHg)
* *Heart rate*: the patient's heart rate (in bpm)
* *Temperature*: the patient's temperature (in °C)
* *Saturation*: the patient's saturation (%)
* *HGT*: the result of the Hemo Glucose test (in mg/dl)
* *Respiratory Rate*: the patient's respiratory rate (in bpm)
* *Diuresis Vol 24H*: the patient's daily urine volume (in ml)
* *Diuresis*: the Diuresis description
* *Bowel*: the description of bowel function
* *Auscultation*: the patient's auscultation. This will default to unknown if not specified. Options are: Unknown, Normal, Bronchial, Crackles, Rhonchi, Stridor, and Wheezes
* *Complain*: any additional notes concerning the examination

After entering the data, Open Hospital automatically calculates the BMI and displays the result on the human figure at the left.

When all the data has been entered, click *[.underline]##S##ave* to save the examination.

To remove an examination, select one or more records in the lower table and click *[.underline]##D##elete* to delete them.

[#insert-or-modify-surgery-data]
==== 8.5.3 Insert or Modify Surgery Data

To insert/modify operations data of a patient admission, first highlight the patient in the *_Patient Browser_* window and then
press the *[.underline]##A##dmission* button. The *_Edit Admission Record_* window is shown.

Operation related data can be inserted or modified directly by selecting the *Operation* tab at the top of the window during the admission or modification process of the admission.

Operations data that can be managed are:

* *Operation*: the operation type
* *Date*: the operation date (must be at least older than, or equal to the admission date and at most, more recent than, or equal to the discharge date)
* *Result*: the result of the operation
* *Trans Unit*: (not mandatory) the number of transfusion units of blood used
* *Remarks*: (not mandatory) comments about the operation

image:image95.png[Patient's operation,width=642,height=345]

It is possible to record several operations at once. The buttons *[.underline]##N##ew*, *[.underline]##S##ave* and *[.underline]##D##elete* at the top right of the table allow the manipulation of the items of the table.

To add a new operation, click on the button *[.underline]##N##ew* and enter the data as mentioned above, and then click on *[.underline]##S##ave*.

WARNING: Clicking on the button *[.underline]##S##ave* just adds the operation to the table; it is not yet permanently recorded.

To delete a line from the table, select the line to delete by clicking on it (it automatically highlights),
then click on the button *[.underline]##D##elete*. When finished, click on the button *[.underline]##S##ave* below the table to save the changes.

NOTE: Operation Type and Operations can be defined by the Administrator. Ask the Administrator or check the
<<settings,Settings>> chapter.

[#insert-or-modify-delivery-data]
==== 8.5.4 Insert or Modify Delivery Data

If a female patient is admitted, the Maternity ward will be present in the ward list, and, by selecting it, the *_Edit Admission Record_* window will change as shown below:

In the Delivery tab, information about the Maternity case can be specified including:

* *Visit Date*: the date of a visit before the delivery, if any
* *Weight*: the weight of the mother before the delivery, if measured
* *Treatment Type*: the treatment type given to the mother, if any
* *Delivery Date*: the date of the delivery
* *Delivery Type*: the type of the delivery
* *Delivery Result Type*: the result of the delivery
* *Control Dates*: the dates of control after the delivery
* *Abort Date*: the date of the abort if the result of the delivery was an abortion

image:image96.png[Admission Delivery,width=642,height=339]

NOTE: Treatment Type, Delivery Type, and Delivery Result Type can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

[#discharge-of-a-patient]
==== 8.5.5 Discharge of a Patient ([.underline]##A##dmission)

To discharge a patient from the hospital, highlight the patient in the *_Patient Browser_* window and then press the *[.underline]##A##dmission* button. The *_Edit Admission Record_* window is shown.

To complete the discharge of the patient, enter the following data:

* *Discharge Date*: the date of the discharge
* *Bed Days*: the number of days admitted. Computed by the system as the difference between the admission date and discharge date
* *Discharge Type*: the type of the discharge
* *Diagnosis OUT*: the diagnosis the patient was discharged with

TIP: As in the case of *_Diagnosis IN_*, it is possible to filter to find diseases more easily.

image:image97.png[AdmissionDischarge,width=642,height=337]

NOTE: Discharge Types and Diseases can be defined by the Administrator. Ask the Administrator or check the <<settings,Settings>> chapter.

When data entry has been completed, observe that the *Buttons panel* has the following choices:

* *[.underline]##S##ave*: confirm the values on the window.
* *E[.underline]##x##amination*: to open the *_Examination_* window (See
<<patient-examination,Patient examination>>).
* *[.underline]##C##lose*: close the window and return to the *_Patient Browser_* window without applying any changes.

Once the *[.underline]##S##ave* button is pressed, the *_Edit Admission Record_* window closes and the patient's status is changed in the *_Patient Browser_* window as
shown in the following figure:

image:image98.png[Discharged,width=642,height=337]

=== 8.6 OPD ([.underline]##O##PD)

If the _OPDEXTENDED_ flag is set as YES in the configuration file (ask the Administrator), the button *[.underline]##O##PD* in the *_Patient Browser_* window allows for starting an OPD by selecting the related patient first (see
<<create-a-new-patient-visit,Create a new patient visit>> for more information).

=== 8.7 Bill ([.underline]##B##ill)

The button *[.underline]##B##ill* in the *_Patient Browser_* window is used to start a bill for a selected patient (see
<<insert-a-new-bill,Insert a new bill>> for more information).

=== 8.8 Manage Patient Historical Data (D[.underline]##a##ta)

This function allows modifying data about a patient and modifying or deleting the history of admissions and discharges of a patient. Malnutrition can also be managed with this function.

To access the patient historical data function, first highlight the patient in the *_Patient Browser_* window.
Next, press the *D[.underline]##a##ta* button. The *_Patient Data_* window is shown:

image:image99.png[Patient Data,width=575,height=423]

The screen is divided into three areas:

* *Patient summary* (on the left)
* *Data table* (on the right)
* *Buttons panel*

The *Patient summary* area shows a summary of the patient's data.

The *Data table* shows a summary of all the outpatients (OPD) visits and all the admissions related to the patient.

The following functions are accessible from the *Buttons panel* of the window *_Patient Data_*:

* *[.underline]##E##dit*: modify the data of an admission or an outpatient visit.
* *[.underline]##D##elete*: delete an existing admission.
* *[.underline]##M##alnutrition Control*: create, modify or delete malnutrition control data of a patient.
* *[.underline]##C##lose*: exit from the function *_Patient Data_* and return to the *_Patient Browser_* window.

==== 8.8.1 Modify Data of an Admission ([.underline]##E##dit)

To modify the data of an admission, select the admission in the *Data table* of the *_Patient Data_* window and then press the *[.underline]##E##dit* button. When the *_Edit Admission Record_* window is shown, the record is available for changes. All data can be changed.

image:image100.png[Edit Admission Record,width=642,height=333]

When the changes have been completed, observe that the *Buttons panel* has the following choices:

* *[.underline]##S##ave*: confirm new values (all the previous values are lost).
* *E[.underline]##x##amination*: open the *_Examination_* window (See
<<patient-examination,Patient examination>>).
* *[.underline]##C##lose*: close the window and return to the *_Patient Data_* window without applying any changes.

==== 8.8.2 Modify Data of an Outpatient Visit ([.underline]##E##dit)

To modify the data of an outpatient visit, select the OPD in the *Data table* of the *_Patient Data_* window and then press the *[.underline]##E##dit* button. When the *_Edit OPD Registration_* window is shown, the record is available for changes. All data can be changed.

image:image100o.png[Edit OPD Registration,width=642,height=333]

When the changes have been completed, observe that the *Buttons panel* has the following choices:

* *[.underline]##S##ave*: confirm new values (all the previous values are lost).
* *E[.underline]##x##amination*: open the *_Examination_* window (See
<<patient-examination,Patient examination>>).
* *[.underline]##C##ancel*: close the window and return to the *_Patient Data_* window without applying any changes.

==== 8.8.3 Delete an Admission ([.underline]##D##elete)

To delete a stored admission, select the admission in the *_Patient Data_* window.
Next, press the *[.underline]##D##elete* button. A confirmation window is shown; now the admission can be deleted. Deleted admissions are no longer available.

image:image101.png[Delete confirmation]

The *Buttons panel* has the following choices:

* *[.underline]##Y##es*: confirm the deletion.
* *[.underline]##N##o*: close the window and return to the previous window.

==== 8.8.4 Delete an Outpatient Visit ([.underline]##D##elete)

To delete a stored outpatient visit (OPD), highlight it in the *_Patient Data_* window.
Next, press the *[.underline]##D##elete* button. A confirmation window is shown; now the OPD can be deleted. Deleted outpatient visits are no longer available.

image:image101o.png[Deletion confirmation]

The *Buttons panel* has the following choices:

* *[.underline]##Y##es*: confirm the deletion.
* *[.underline]##N##o*: close the window and return to the previous window.

==== 8.8.5 Manage Malnutrition Control of a Patient ([.underline]##M##alnutrition Control)

The malnutrition control function is available only for the admissions who have concerns about malnutrition (malnutrition field activated in the *_New Admission_* window, see the next page).

The Malnutrition control function allows the registration of specified visits for those patients who need to control their weight/height index.

To access the Malnutrition control function, highlight the appropriate admission in the *_Patient Data_* window.
Next, press the *[.underline]##M##alnutrition Control* button. The *_Malnutrition Browser_* window is shown:

image:image102.png[Malnutrition Browser,width=642,height=288]

This function supports the insertion (*New*) of a new malnutrition control, the modification (*Edit*) or deletion (*Delete*) of an existing malnutrition control.

===== 8.8.5.1 Insert a New Control ([.underline]##N##ew)

By pressing the *[.underline]##N##ew* button in the *_Malnutrition Browser_* window, the *_New Malnutrition_* window, shown below, is available:

image:image103.png[New Malnutrition]

To record a new control, enter the following fields:

* *Date of this control*: the system automatically sets the date to today
* *Date of next control*: the date of the next planned control
* *Weight*: the weight of the patient; use any kind of measure with decimal notation
* *Height*: the height of the patient; use any kind of measure with decimal notation

=== 8.9 Clinical Sheet (Clinical [.underline]##S##heet)

The Clinical Sheet functionality is very similar to the *[.underline]##D##ata* functionality (see *_Patient Browser_* window).

To access the Clinical sheet function, highlight the patient in the *_Patient Browser_* window.
Next, press the *Clinical [.underline]##S##heet* button. The *_Patient Data_* window is shown:

image:image104.png[Patient Data,width=624,height=368]

The window does not allow changing the data, but for the selected patient, it shows all the outpatient (OPD) visits, the Admissions, his/her Laboratory exams and the various surgeries they underwent;
by clicking on a row in the *Data table* at the top of the window, the related laboratory exams will be shown as follows:

* the selected row is an Admission: all the exams done between the admission date and the discharge date are shown in the *Data table*, in the *_Exams_* tab;
* the selected row is an outpatient (OPD) visit: all the exams done after the selected OPD visit until the next one (if any) or next admission date (if any) are shown in the *Data table*, in the *_Exams_* tab.

The tab *_Operations_* shows the various operations recorded for the selected patient between the admission date and the discharge date.

The tab *_Drugs_* shows the drugs recorded for the selected patient.

The *Buttons panel* has the following choices:

* *[.underline]##O##PD Chart*: print the OPD chart if the selected row in the grid on top is an OPD visit.
* *[.underline]##A##dmission Chart*: print the Admission chart if the selected row in the grid on top is an Admission.
* *Di[.underline]##s##charge Chart*: print the Discharge chart if the selected row in the grid on top is an Admission and the patient is already discharged.
* *Launch [.underline]##R##eport*: print the clinical sheet of a patient.
* *[.underline]##I##maging*: launch the imaging viewer.
* *[.underline]##C##lose*: close the window and return to the *_Patient Browser_* window without applying any changes.

NOTE: The DICOM flag in the configuration file must be changed to activate the imaging functionality. Ask the Administrator or refer to the _Administrator’s Guide_.

By pressing the *Launch [.underline]##R##eport* button in the *_Patient Data_* window, a new window is shown:

image:image244.png[Report,width=300,height=356]

The application is set to get the entire history of the patient, but this can be changed by querying different date ranges and a specific set of information.

NOTE: it is possible to double-click an item on any table to automatically restrict the Clinical Sheet report to the selected date ranges and item's category.

[#imaging-viewer]
==== 8.9.1 Imaging ([.underline]##I##maging)

The DICOM flag in the configuration file must be changed to activate the imaging functionality. Ask the Administrator or refer to the _Administrator’s Guide_.

In the *_Patient Data_* window, click the [.underline]##I##maging button to access the *_Imaging Viewer_* window as shown below.

image:image105.png[Imaging Viewer,width=642,height=361]

This module allows attaching image files to the patient’s folder. To do this,
click the *[.underline]##L##oad Image* button. The following window is shown:

image:image106.png[Image Open,width=517,height=366]

In the case of a multi-frame image, the whole folder can be selected:

image:image106b.png[Image open multi-frame,width=517,height=366]

Next, the following data to be used for the image is prompted for (or the multi-frame image series):

* *Date*: the system will propose the current date or other dates provided by the image file itself
* *Category*: optionally select an image category (see <<imaging-types,Imaging Types>>):
* *Description*: the description to be used.

image:image243.png[Image information,width=282,height=200]

*[.underline]#N.B.#* There is no *Edit Image*, so if a mistake is made, delete the image file (*Delete Image*) and then reload it (*Load Image*) again.

Find the image file and click the *Open Image* button to load the file into the *_Imaging viewer_*.

image:image107.png[Image file,width=642,height=362]

To view the file in the main window, double-click on it.

image:image108.png[Image file view,width=642,height=360]

The *Zoom* slider can be used to Zoom in or out of the image.

More than one image file can be loaded into a patient folder. It is possible to delete an image file from the patient's folder. First, select the file in the left view and then click the *Delete Image* button.

The thumbnails on the left can be hidden by changing the _DICOMTHUMBNAILS_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

[#therapy-management]
=== 8.10 Therapy Management (T[.underline]##h##erapy)

To manage the therapy of a patient, select the patient in the *_Patient Browser_* window. Next,
press the *T[.underline]##h##erapy* button. The specific window for therapy management of the selected patient is shown. The window has no name, but it is typically referred to as the *_Therapy_* window.
The name of the selected patient is shown at the top.

In the *_Therapy_* window, it is possible to insert, modify or remove a therapy for the selected patient.

In addition, from the *_Therapy_* window, it is possible to insert or remove (not modify) scheduled visits for the selected patient.

The window is complex, see the comments below to understand the structure.

image:image109.png[Therapy window,width=642,height=375]

[#add-a-therapy]
==== 8.10.1 Add a Therapy ([.underline]##A##dd Therapy)

To add a new therapy for the patient, press the *[.underline]##A##dd Therapy* button on the right of the window. The *_New Therapy Entry Form_* window is shown.

A therapy defines for every pharmaceutical: the quantity, frequency, and period of use.

More than one therapy for the same patient can be added. The set of therapies defined for a patient is called a “Therapy plan”.

image:image110.png[Therapy Entry Form,width=642,height=313]

NOTE: To better explain how the function *Add a therapy* works, the *Therapy* window below shows the results of the therapy defined in the *_New Therapy Entry Form_* shown above.

To add a therapy, the following information is required:

* *Pharmaceutical*: the pharmaceutical of the therapy; in the example above, this is _Cyclophosphamide 500mg_ (highlight the desired pharmaceutical)
* *Quantity*: set the quantity; this can be done by clicking on the small up/down arrows (for small quantities) or moving the cursor on the right (for large quantities); in the example above, the selected value is “4”
* *Frequency within day*: set how many times (frequency) the dose has to be given during one day (possible choices are: one, two, three, four); in the example above, “One” means once per day
* *Frequency within period*: set the periodicity of the therapy; in the example above, this is every two days (a quantity of 4 _Cyclophosphamide 500mg_ every two days has to be given)
* *Period*: set the length of therapy. To do this, select days, weeks, and months; in the example above, the therapy is 11 days long (4 days and 1 week)
* *Starts – Ends*: set start and end dates of the therapy; in the example, the therapy starts on November 20^th^ and finishes on November 30^th^
* *Note*: an optional area for free text or notes

When data entry has been completed, observe that the *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm the data of the therapy. The therapy is not saved until it is confirmed with the *[.underline]##S##ave* button in the *_Therapy_* window (see the
<<save-function-therapy,Save function>> described below).
* *[.underline]##C##ancel*: close the window and return to the *_Therapy_* window.

image:image111.png[Therapy window,width=642,height=372]

==== 8.10.2 Modify a Therapy ([.underline]##E##dit Therapy)

To modify a therapy, highlight one occurrence of the therapy (see box above)
in the *_Therapy_* window and then press the **[.underline]##E##dit Therapy** button.
The *_Edit Therapy Entry Form_* window will appear. Any of the data can be modified as in the *Add a therapy* function.

See <<add-a-therapy,Add a therapy>> function for a detailed description.

==== 8.10.3 Remove a Therapy (Remove Therapy)

To remove a therapy, highlight one occurrence of the therapy (see box above) in the
*_Therapy_* window and then press the **[.underline]##R##emove Therapy** button and the therapy is
removed from the window and the *[.underline]##S##ave* button will be enabled (if not already enabled).
The removal of a therapy is not effective until it is confirmed with the *[.underline]##S##ave* button (see <<save-function-therapy,Save function>>).

[#check-availability-of-the-pharmaceuticals]
==== 8.10.4 Check Availability of the Pharmaceuticals (C[.underline]##h##eck Availability)

When the therapy plan is entered (all the therapies of a patient), press the _Check Availability_ button in the *Buttons panel* on the right side of the *_Therapy_* window to check the availability of the related pharmaceuticals in the hospital. If the pharmaceutical checked is present in the quantity requested by the therapy plan, a green-colored checkmark is shown.

image:image112.png[Therapy available]

If insufficient quantities are available, the application shows the small window (shown below), called *_Therapy Not Available:_*

image:image113.png[Therapy Not Available]

This window provides information that the therapy is not available, but it does not block the input of the Therapy plan.
Click the *[.underline]##O##K* button to dismiss the window.

After the check, in the *Buttons panel* of the *_Therapy_* window if there is a red X and the text “NOT AVAILABLE” this means that at least one of the involved drugs is not available.

NOTE: The check can also be done therapy by therapy and not only at the end of the input of all the therapies.

The check function is not mandatory, the therapy plan can be saved without checking the presence of the pharmaceuticals in the hospital (see
<<save-function-therapy,Save function>> below).

[#save-function-therapy]
==== 8.10.5 Save Function ([.underline]##S##ave)

When the input of the therapy plan is completed, press the *[.underline]##S##ave* button in the *Buttons panel* of the *_Therapy_* window. Be aware that the therapy plan is saved when the *_Message_* window is shown:

image:image116.png[Therapy plan saved]

If the availability check has not been executed yet (see
<<check-availability-of-the-pharmaceuticals,Check availability of the pharmaceuticals>>), the *_Not checked_* window is shown:

image:image114.png[Therapy not checked]

The *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm the therapy plan; if the check for the existence of the pharmaceuticals in the hospital has not been done the application saves the therapy plan and shows the confirmation window shown above.
* *[.underline]##C##ancel*: return to the *_Therapy_* window without saving the therapy plan.

If the availability check is done (see
<<check-availability-of-the-pharmaceuticals,Check availability of the pharmaceuticals>>), but the drugs requested by the therapy plan are not available in the hospital, the *_Not Available_* window is shown:

image:image115.png[Therapy not available]

The *Buttons panel* has the following choices:

* *[.underline]##O##K*: confirm the therapy plan; the therapy is saved, but the requested pharmaceuticals are not in the hospital. The application saves the therapy plan and shows the confirmation window, shown below.
* *[.underline]##C##ancel*: return to the *_Therapy_* window without saving the therapy plan.

Whether or not the availability check that the pharmaceuticals are present in the hospital is done, when the application shows the notification window below, the therapies plan is saved.

image:image116.png[Therapy saved]

Press *[.underline]##O##K* to finish.

==== 8.10.6 Close Function (Close)

The close function exits from the *_Therapy_* window. Press the *Close* button to access the Close function. The *_Select an Option_* window is shown:

The *Buttons panel* has the following choices:

image:image117.png[Therapy close]

* *[.underline]##Y##es*: this function is the same as the *Save function ([.underline]##S##ave)* described above.
* *[.underline]##N##o*: return to the *_Therapy_* window without saving the therapy plan.
* *[.underline]##C##ancel*: exit the function and return to the *_Therapy_* window without applying any changes.


==== 8.10.7 Notify & SMS

image:image118.png[Notify & SMS,width=170,height=131]

Use these two checkboxes to set the therapies plan for this patient as important (_[.underline]##not implemented yet##_) and notifiable via SMS.

Briefly, the SMS notification works in the following way:

* therapies: a notification will be sent to the patient with an SMS at 8:00 am, with the text **“REMINDER: “ + therapy details**;
* visits: a notification will be sent to the patient with an SMS 24 hours before the scheduled date and time, with the text **“REMINDER VISIT: “ + visit details** (see
<<sms-manager,SMS Manager>>).

==== 8.10.8 Visits

By clicking on the *A[.underline]##d##d Visit* button, the following window is shown:

image:image118b.png[Add Visit]

The patient is already selected, while other fields need to be set:

* *Ward*: to specify the ward where the patient has to be received (it will be shown in the Worksheet, see
<<worksheet,Worksheet>>)
* *Service*: a brief description of the service that will be provided to the patient (optional)
* *Duration (Min)*: the estimated duration of the service that will be provided (optional, default is 30 minutes)
* *Date*: the date and the time for the appointment

Press *[.underline]##O##K* to save the appointment and it will be shown in the calendar, along with the therapies.

image:image118c.png[Therapy,width=600,height=302]

TIP: By pressing the *Worksheet* button, a visit can also be added there, after checking the actual workload for a specific date.

[#appointment-validation-rules]
===== 8.10.8.1 Appointments rules

A patient appointment/visit is valid if it does not overlap with:

* other appointments within the same ward
* an existing appointment for the same patient in a different ward


=== 8.11 Merge Function ([.underline]##M##erge)

The merge function is used to merge two patients’ histories into a single case. This is used to fix the case of two different registrations when a patient is admitted to the Hospital.

Merging data of two patients requires highlighting both of them in the *_Patient Browser_* window.

image:image119.png[Patient merge,width=642,height=180]

Once the two patients are selected, press the *[.underline]##M##erge* button. The *_Merge_* window is shown:

image:image120.png[Patient confirm merge]

By pressing _Yes_, the patient with the smaller code is deleted and all their history is transferred to the other newer patient record, that is to say:

* Admission History
* Height & Weight History
* Laboratory History
* OPD History
* Bills History
* Pharmaceuticals Stock Ward History
* Therapy History
* Visit History
* Vaccine History

The other (older) patient is then deleted.

==== 8.11.1 Different Names

If two patients with different names are merged, the final name must be chosen in the window, shown below:

image:image121.png[Patient merge names]

==== 8.11.2 Different Sex

If two patients with a different sex are merged, the operation is not allowed, with the window shown below:

image:image122.png[Patient merge sex]

<<<

[#statistics]
== 9 Statistics (S[.underline]##t##atistics)

=== 9.1 Main Characteristics

The purpose of this function is to extract data registered in the application and present it in a useful fashion.

.Click with the mouse on the button or press "Alt + T" to enter the *Statistics Report Launcher*
[#default-main-menu-11]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

Open Hospital provides a set of reports designed for the Ugandan Ministry of Health (HMIS) and for the Kenyan Ministry of Health (MOH) as well as national independent reports (OH).
All of these reports may be useful for any organization and can be added or removed as explained in the Administrator Manual's chapter “6 – Reports”.

Open Hospital ships with the following set of reports:

* OH001 - Registered patients
* OH002 - Registered patients by origin
* OH003 - Registered patients by Age and Sex
* OH004 - All incomes by price codes
* OH005 - Count outpatient
* OH006 - Count outpatient diagnosis
* OH007 - Lab monthly basic
* OH008 - Lab summary for OPD
* OH009 – InPatient Report
* OH010 – OutPatient Report
* OH011A - Revenues, Incomes & Receivables (All)
* OH011B - Revenues, Incomes & Receivables (Pending)
* OH011C - Revenues, Incomes & Receivables (Month)
* OH011D - Revenues, Incomes & Receivables (Ward / Month)
* HMIS 108 - page 1 - 1. census info
* HMIS 108 - page 1 - 2. referrals
* HMIS 108 - page 1 - 3. operations
* HMIS 108 - In Patient (diagnosis In)
* HMIS 108 - In Patient (diagnosis Out)
* HMIS 105 - Opd attendance
* HMIS 105 - Opd referrals
* HMIS 105 - Opd by diagnosis
* HMIS 55b - Lab monthly formatted
* HMIS 33b - Weekly epidemiological surveillance
* HMIS 33b - Weekly epidemiological surveillance over 5 years old
* HMIS 33b - Weekly epidemiological surveillance under 5 years old
* MOH 717 - Monthly Workload Report for Hospitals (Page1)
* MOH 717 - Monthly Workload Report for Hospitals (Page2)
* MOH 705A - Under 5 - Daily Outpatient Morbidity Summary Sheet
* MOH 705A - Over 5 - Daily Outpatient Morbidity Summary Sheet
* OH23A1 - Open bills list: a report that shows the list of opened bills (pending bills) per period
* OH23B1 - Revenues, Incomes & Receivables: gives the list of incomes per period

=== 9.2 Report Launcher (Launch Report)

This function is used to produce all reports listed in the previous paragraph. Pressing the *S[.underline]##t##atistics* button on the main menu the *_Report Launcher_* window is shown:

image:image124.png[Report Launcher,width=642,height=121]

To produce one report:

* Select a report from the list
* Specify the period (it could be _month-year_ or _from date-to date_ depending on the report)
* Press the *Launch [.underline]##R##eport* button for PDF or *[.underline]##E##xcel* for CSV (Comma Separated Values) format

After some time passes, the JasperViewer® will show the generated report as follows:

image:image125.png[Report,width=591,height=420]

NOTE: By default, an internal PDF viewer is used. An external PDF reader can be used by modifying the INTERNALVIEWER flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

The report can be saved as a PDF by clicking on the save button (image:image66.png[Report save icon,width=21,height=19]) or printing it by
clicking on the print button (image:image67.png[Report print icon,width=21,height=18]).

NOTE: A PDF copy of every report is always saved within the folders of Open Hospital. Ask the Administrator or refer to the _Administrator’s Guide_.

<<<

== 10 Reports ([underline]##R##eports)

=== 10.1 Main Characteristics

This function is used to generate reports about the hospital like a list of exams, diseases, etc.

.Click with the mouse on the button or press "Alt + R" to enter the *Reports* submenu
[#default-main-menu-12]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

Open Hospital currently only has these three reports:

* Exams List
* Diseases List
* Operations List

=== 10.2 Reports

By pressing *[underline]##R##eports* from the main menu, the *_Reports_* menu is accessed. From this menu, the following types of reports are available: *[.underline]##E##xams List*, *[.underline]##D##isease List* and *[.underline]##O##peration List.*

image:image127.png[Reports submenu,width=642,height=323]

==== 10.2.1 Exams List ([.underline]##E##xams List)

This report is a list of exams, divided by types, as defined by the Administrator.

==== 10.2.2 Disease List ([.underline]##D##isease List)

This report is a list of diseases, divided by types, as defined by the Administrator.

==== 10.2.3 Operation List ([.underline]##O##peration List)

This report is a list of operations, divided by types, as defined by the Administrator.

<<<

== 11 Communication (Co[.underline]##m##munication)

=== 11.1 Main Characteristics

The Communication module can be enabled by changing the _XMPPMODULEENABLED_ flag in the configuration file. Ask the Administrator or refer to the _Administrator’s Guide_.

Through the communication module events and notifications can be shared among users logged into the system,

.Click with the mouse on the button or press "Alt + M" to enter the *Communication* window.
[#default-main-menu-13]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

This function is used to chat and share information with other users logged in the system if in turn the application has been set in [.underline]#multi-user# mode and an [.underline]#XMPP Server# is active and running (Ask the Administrator or refer to the _Administrator’s Guide_).

The functionality allows the following tasks:

* Chat
* Admissions notifications
* Pharmaceutical Stock critical levels notifications
* Report sharing

=== 11.2 Chat

By pressing the *Co[.underline]##m##munication*, the *_Communication_* window is shown:

image:image129.png[Communication window,width=367,height=275]

It shows all users logged into the system. Some of them have a green circle near their name: it means that they are currently logged in the system and they are the only ones that can be interacted with. Others have the grey circle near their name: it means that they logged in at least one time in the past but are not currently using the system.

By double-clicking on an active user (i.e. Allan in the figure above), a chat session can be started, as shown in the figures below:

image:image130.png[Communication window,width=641,height=286]

To send a message to Allan, type the message into the white box at the bottom and then press “ENTER”; the message is immediately sent to Allan; when Allan does the same, his response is immediately received. Other users logged in (i.e. Mary in the figures above) cannot see this private conversation.

=== 11.3 Admission/Discharge Notifications

In the *_New Admission_* window, in the *Buttons panel* there is a dropdown box, as shown below:

image:image131.png[Communication notifications,width=642,height=343]

The box lists all users currently logged into the system (those with the green circle near the name) and allows them to send an alert or not (nobody) when the *[.underline]##S##ave* button is pressed.

==== 11.3.1 Admission Notifications

If the decision is to send a notification about a new admission for user Allan, when the *[.underline]##S##ave* button is pressed, Allan sees in his *_Communication_* window a message like “new patient admission:” followed by the patient's name and the related ward.

An example of the Allan *_Communication_* window is shown below:

image:image132.png[Communication window for Allan,width=377,height=284]

==== 11.3.2 Discharge Notifications

Similarly, notifications can be sent for discharge events. If the decision is to send a notification about a discharge to user Allan when the *[.underline]##S##ave* button is pressed, Allan sees in his *_Communication_* window a message like “discharged patient:” followed by the patient's name and the related Discharge Type.

An example of the Allan *_Communication_* window is shown below:

image:image133.png[Communication discharge for Allan,width=377,height=285]

=== 11.4 Pharmaceuticals Critical Level Notifications

In the *_Stock Movement_* window, there is a new box at the bottom, as shown below:

image:image134.png[Communication Stock alert,width=500,height=500]

The box becomes active and useful only if the movement is going to reduce the selected pharmaceutical below the critical level. Given such an occurrence the event can be shared with another user logged into the system at the given time when the *[.underline]##O##K* button is pressed.

Assuming such a notification about this discharging movement is to be shared with user Allan
when the *[.underline]##O##K* button is pressed, Allan receives in his *_Communication_* window a message like “ALERT:” followed by the pharmaceutical name and the text “is about to end” as shown below:

image:image135.png[Communication Stock alert for Allan,width=377,height=287]

=== 11.5 Report Sharing

In the *_Report Launcher_* window, there is a new box at the bottom, as shown below:

image:image136.png[Communication reports,width=642,height=123]

This allows for the decision to share a new report with another user logged into the system when the *Launch Report* button is pressed.

Assuming such a notification about this report is to be shared with user Allan when the *Launch Report* button is pressed, Allan sees in his *_Communication_* window a message like “** admin wants to share with you this report:” followed by the report name
and a clickable icon that links Allan to the related report. An example of this message is shown below:

image:image137.png[Communication reports for Allan,width=377,height=284]

<<<
[#settings]
== 12 Settings ([.underline]##S##ettings)

=== 12.1 Main Characteristics

Setup and customization of Open Hospital can be performed through the *[.underline]##S##ettings* functionality. This feature allows the configuration of all “types” and “data” used in the current Open Hospital implementation.

.Press the *[.underline]##S##ettings* button or “Alt + S” to open the Settings submenu.
[frame=none]
[grid=none]
[caption="Submenu: "]
|===
|image:OH-main_menu.png[OH Main Menu]|image:image0_DefaultGeneralDataMenu.png[SubMenu,width=185,height=527]
|===

Pressing the *[.underline]##S##ettings* button main menu provides access to the *_Settings_* menu. From the *_Settings_* menu, the following functions are available:

* *[.underline]##T##ypes*: define and manage the various _types_ listed in the menu
* *[.underline]##H##ospital*: set some Hospital information (name, address, telephone, email, etc.)
* *[.underline]##W##ard*: define which departments are in the hospital
* *[.underline]##D##isease*: define which diseases are diagnosed in the hospital
* *[.underline]##E##xams*: define which laboratory exams are performed in the hospital
* *[.underline]##O##peration*: define which surgical operations are provided by the hospital
* *[.underline]##V##accine*: define which vaccines are given in the hospital
* *[.underline]##P##rices lists*: define unitary costs of the services provided by the hospital
* *[.underline]##S##upplier*: manage medicals suppliers
* *S[.underline]##M##S Manager*: send an SMS or schedule an SMS sending
* *[.underline]##U##sers & Groups*: manage information about various users and groups

=== 12.2 Types ([.underline]##T##ypes)

Once the *[.underline]##T##ypes* button is pressed in the *_Settings_* menu, the *_Types_* menu is presented:

.Press the *[.underline]##T##ypes* button or “Alt + T” to open the Types Menu
[frame=none]
[grid=none]
[caption="Settings Menu: "]
|===
|image:image0_DefaultGeneralDataMenu.png[Settings SubMenu,width=185,height=527]|image:image0_DefaultGeneralDataTypesMenu.png[Settings Types Menu,width=235,height=707]
|===

From the *_Types_* menu, the definition and management of the following types of functions are possible:

* *[.underline]##A##dmission Type*: the way the patient is admitted to the hospital +
_i.e. Ambulance, Self, Referral, etc._
* *Disc[.underline]##h##arge Type*: the way the patient is discharged from the hospital +
_i.e. Healed, Unchanged, Dead, etc._
* *Delive[.underline]##r##y Result Type*: the various childbirth results for reporting +
_i.e. Live Birth, Newborn Death, Fresh Still Birth, etc._
* *De[.underline]##l##ivery Type*: the ways the mothers are assisted in childbirth +
_i.e. Normal Delivery, Caesarean Section, etc._
* *[.underline]##D##isease Type*: the way similar diseases are grouped +
_i.e. Epidemic, Maternal, etc._
* *[.underline]##E##xam Type*: the way similar laboratory exams are grouped+
_i.e. Haematology, Parasitology, Serology, etc._
* *Medical[.underline]##s## Stock Mov Type*: the kind of movements, meant as charge or discharge, that are performed in the Medical Store +
_i.e. Charge, Discharge, Donation, Correction, etc._
* *[.underline]##M##edicals Type*: the way similar pharmaceuticals are grouped +
_i.e. Drugs, Chemical, Laboratory, etc._
* *[.underline]##O##peration Type*: the way similar surgical operations are grouped +
_i.e. Abdominal, Obstetrical, Orthopaedic, etc._
* *[.underline]##P##regnant Treatment*: the treatments provided to expectant mothers +
_i.e. First dose with SP, Second dose with SP, etc._
* *Ot[.underline]##h##er Prices*: extra services the hospital provides (it will be reflected in Prices lists) +
_i.e. Admission Fee, Food, POP, etc._
* *A[.underline]##g##e Type*: the age classifications used by the hospital +
_i.e. Newborn, Childhood, Adult, Elderly, etc._
* *[.underline]##V##accine Type*: the way similar vaccines are grouped +
_i.e. Child, Adult, Pregnant, etc._
* *[.underline]##I##maging Type*: the way similar imaging types are grouped +
_i.e. X-Ray, CT-Scan, NMR, etc._


==== 12.2.1 Admission Types ([.underline]##A##dmission Type)

Once the *[.underline]##A##dmission Type* button in the *_Types_* menu is pressed, the *_Admission Type Browser_* window is shown:

image:image140.png[Admission Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if it is still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Admission Types defined are used in the Admission function (see
<<start-the-admission-of-a-patient,Start the admission of a patient>> and
<<discharge-of-a-patient,Discharge of a patient>> in this document).

==== 12.2.2 Discharge Types (Disc[.underline]##h##arge Type)

Once the *Disc[.underline]##h##arge Type* button in the *_Types_* menu is pressed, the *_Discharge Type Browser_* window is shown:

image:image141.png[Discharge Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Discharge Types defined are used in the Admission function (see
<<start-the-admission-of-a-patient,Start the admission of a patient>> and
<<discharge-of-a-patient,Discharge of a patient>> in this document).

==== 12.2.3 Delivery Result Types (Delive[.underline]##r##y Result Type)

Once the *Delive[.underline]##r##y Result Type* button in the *_Types_* is pressed, the *_Delivery Result Type Browser_* window is shown:

image:image143.png[Discharge Result Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Delivery Result Types defined are used in the Admission function (see
<<insert-or-modify-delivery-data,Insert or Modify Delivery data>> in this document).

==== 12.2.4 Delivery Types (De[.underline]##l##ivery Type)

Once the *De[.underline]##l##ivery Type* button in the *_Types_* menu is pressed, the *_Delivery Type Browser_* window is shown:

image:image142.png[Discharge Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Delivery Types defined are used in the Admission function (see
<<insert-or-modify-delivery-data,Insert or Modify Delivery data>> in this document).

==== 12.2.5 Disease Types ([.underline]##D##isease Type)

Once the *[.underline]##D##isease Type* button in the *_Types_* menu is pressed, the *_Disease Type Browser_* window is shown:

image:image144.png[Disease Type]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Disease Types defined are used throughout the application (for example, in the definition of Diseases or in OPD - see
<<disease,Disease>> and <<create-a-new-patient-visit,Create a new patient visit>> in this document).

[#exam-types]
==== 12.2.6 Exam Types ([.underline]##E##xam Type)

Once the *[.underline]##E##xam Type* button in the *_Types_* menu is pressed, the *_Exam Type Browser_* window is shown:

image:image145.png[Exam Type]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Exam Types defined are used in the Laboratory function (see
<<laboratory,Laboratory>> in this document).

==== 12.2.7 Medicals Stock Movement Types (Medical[.underline]##s## Stock Mov Type)

Once the *Medical[.underline]##s## Stock Mov Type* button in the *_Types_* menu is pressed, the *_Medicals Stock Movement Types Browser_* window is shown:

image:image146.png[Medicals Stock Movement Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##N##ew* button, the *_New Medical Stock Movement Type_* window is shown:

image:image147.png[New Medical Stock Movement]

The allowed types are “\+” and “-“ and this means that any kind of movements is either a charging (+) or a discharging (-) of the stock.

The allowed categories are “Operational” and “Non-Operational”. 

*Operational* movements encompass all transactions related to the day-to-day functioning of the warehouse. These movements directly affect the operational stock levels and are crucial for managing the supply chain efficiently. They include receiving goods from suppliers, transferring goods to wards, shipping products to customers, and other routine activities necessary for maintaining the flow of inventory.

*Non-Operational* movements include transactions that do not directly impact the core operational activities of the warehouse. These movements are typically one-time or irregular transactions that are not part of the regular warehouse management process. They include adjustments due to inventory discrepancies.

Examples are:

* Operational - Charge (+) 
* Operational - Discharge (-)
* Operational - Donation (+)
* Non-Operational - Inventory (+) 
* Non-Operational - Inventory (-)
* Non-Operational - Expired (-)
* Non-Operational - Lost (-)
* ...

Operational movements will be used to calculate effective consumptions in some reports, like the *Average Monthly Consumption* report (see <<pharmaceuticals,Pharmaceuticals>>). 

The Medical Stock Movement Types defined are used in the Pharmaceutical Stock function (see
<<#insert-stock-discharging-movement,Insert Stock Discharging Movement>> in this document).

==== 12.2.8 Medicals Types ([.underline]##M##edicals Type)

Once the *[.underline]##M##edicals Type* button in the *_Types_* menu is pressed, the *_Medical Type Browser_* window is shown:

image:image148.png[Medical Type]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Medical Types defined are used throughout the application (for example,
in the Pharmacy function and Pharmaceutical Stock Ward  - see
<<insert-a-new-pharmaceutical,Insert a new pharmaceutical>> and
<<search-ward-pharmacy-movements,Search Ward Pharmacy movements>> in this document).

==== 12.2.9 Operation Types ([.underline]##O##peration Type)

Once the *[.underline]##O##peration Type* button in the *_Types_* menu is pressed, the *_Operation Type Browser_* window is shown:

image:image149.png[Operation Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Operation Types defined are used in the Admission function (see
<<insert-or-modify-surgery-data,Insert or Modify Surgery Data>> in this document).

==== 12.2.10 Pregnant Treatment Types ([.underline]##P##regnant Treatment Type)

Once the *[.underline]##P##regnant Treatment* button in the *_Types_* menu is pressed, the *_Pregnant Treatment Type Browser_* window is shown:

image:image150.png[Pregnant Treatment Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Pregnant Treatment Types defined are used in the Admission function (see
<<insert-or-modify-delivery-data,Insert or Modify Delivery data>> in this document).

[#other-prices]
==== 12.2.11 Other Prices (Ot[.underline]##h##er Prices)

Once the *Ot[.underline]##h##er Prices* button in the *_Types_* menu is pressed, the *_Other Prices Browser_* window is shown:

image:image151.png[Other Prices]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new price (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing price (the code can be changed).
* *[.underline]##D##elete*: delete an existing price (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

To create a new price, press the *[.underline]##N##ew* button, and the *_New Price_* window is shown:

image:image152.png[New Price]

To insert a new price, provide the following data:

* *Code*: the price code and which should be unique; there are no restrictions on this field since the application uses an internal code to uniquely identify the item
* *Description*: the price description that may include the code for a faster search
* *OPD*: if the price is applicable with OPD (not yet implemented)
* *IPD*: if the price is applicable with IPD (not yet implemented)
* *Daily*: if the price should be applied for every bed-day (not yet implemented) or just once; if checked, provide a value for “How many days?” when using this item while managing a patient's bill; see the following *_Days_* window:

image:image153.png[New Prices_daily]

* *Discharge*: if the item must be treated as a negative value to act as a discharge in the billing statement (i.e., Charge-Off, Free-of-charge, etc.).
* *Undefined*: if the item has no value in the Price List and the amount was set as “on the fly” while editing a bill; if checked, a value for “How much is it?” in the following *_Undefined_* window must be provided:

image:image154.png[New Prices_undefined]

The Other Prices defined are used in the Accounting and Price List functions (see
<<insert-a-new-bill,Insert a new bill>> and <<prices,Prices>> in this document).

==== 12.2.12 Age Types (A[.underline]##g##e Type)

Once the *A[.underline]##g##e Type* button in the *_Types_* menu is pressed, the *_Age Type Browser_* window is shown:

image:image155.png[Age Types]

Note that age ranges are fixed and only the Administrator can change their values to best fit the health normative in the country.

By pressing the *[.underline]##E##dit* button, the table allows modification of the age values and the button changes to *[.underline]##S##ave*.

image:image156.png[Age Types Edit]

By double-clicking on each value, the value is changed by typing a new value. Then pressing the *[.underline]##S##ave* button, the new information is stored in the system.

Only integer values are allowed; also, every range must be *contiguous* and may not *overlap* any previous or following value.

For example, in the following case, the ranges _Late Childhood_ and _Adolescent_ are not *contiguous* and ages 14 and 15 are not defined in any range:

image:image157.png[Not Contiguous Ages]

In the following example, the ranges _Late Childhood_ and _Adolescent_ *overlap* since both start with age 6:

image:image159.png[Overlapped]

The Age Types defined are used in the Patient Extended functionality (see
<<insert-a-new-patient-extended,Insert a new Patient Extended>> in this document).

==== 12.2.13 Vaccine Types ([.underline]##V##accine Type)

Once the *[.underline]##V##accine Type* button in the *_Types_* menu is pressed, the *_Vaccine Type Browser_* window is shown:

image:image161.png[Vacine Type]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Vaccine Types defined are used in the Vaccine function (see
<<vaccines,Vaccines>> in this document).

[#imaging-types]
==== 12.2.14 Imaging Type ([.underline]##I##maging Type)

Once the *[.underline]##I##maging Type* button in the *_Types_* menu is pressed, the *_Imaging Type Browser_* window is shown:

image:image242.png[Imaging Types]

The functions available in this window (similar to other windows in the *_Types_* menu) are:

* *[.underline]##N##ew*: enter a new type (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing type (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing type (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

The Imaging Types defined are used in the imaging Load function (see
<<imaging-viewer,Imaging Viewer>> in this document).

=== 12.3 Hospital ([.underline]##H##ospital)

Once the *[.underline]##H##ospital* button in the *_Settings_* menu is pressed, the *_Hospital Information_* window is shown:

image:image162.png[Hospital]

By pressing the *[.underline]##E##dit* button, it is possible to modify the hospital information:

image:image163.png[Hospital edit]

By pressing the *[.underline]##U##pdate* button, the new information is stored in the system and is reflected throughout the entire application (for example, in the reports heading - see
<<statistics,Statistics>> in this document).

[#ward]
=== 12.4 Ward ([.underline]##W##ard)

Once the *[.underline]##W##ard* button in the *_Settings_* menu is pressed, the *_Ward Browser_* window is shown:

image:image164.png[Ward Browser,width=640,height=269]

The functions available in this window are:

* *[.underline]##N##ew*: enter a new ward (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing ward (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing ward (cannot be deleted if still used somewhere in the application).
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##N##ew* button, the *_New Ward_* window is shown:

image:image165.png[New Ward]

To insert a new ward, provide the following required inputs:

* *Code*: the ward code (it must be unique)
* *Name*: the name of the ward
* *Number of beds*: the value is shown in the admission module to check for available beds; 0 – zero beds wards will be not shown in the admission module
* *Number of nurses*: it may be shown in some reports (0 – zero is allowed)
* *Number of doctors*: it may be shown in some reports (0 – zero is allowed)
* *Visit duration*: length of a visit (in minutes and must be greater than zero)
* *Ward with OPD*: if checked, it means that the ward will also be available in the <<opd-extended,OPD Extended>> mode
* *Ward with pharmacy*: it is used in Pharmaceuticals Stock; if checked, it means that the ward can be a destination for discharging movements; otherwise it will be not shown in the list
* *Male Ward*: if it is a male Ward
* *Female Ward*: if it is a female Ward

NOTE: Maternity (M) and OPD (OPD) wards are _built-in_ wards and cannot be deleted, although they can be modified as needed.

The wards defined here are used throughout the entire application. See, for example, the Admission module, Pharmaceuticals Stock and Pharmaceuticals Stock Ward (see
<<admission-patient,Admission/Patient>>, <<pharmaceutical-stock,Pharmaceutical Stock>> and
<<pharmaceutical-stock-ward,Pharmaceuticals Stock Ward>> in this document).

[#disease]
=== 12.5 Disease ([.underline]##D##isease)

Once the *[.underline]##D##isease* button in the *_Settings_* menu is pressed, the *_Diseases Browser_* window is shown:

image:image166.png[Diseases,width=467,height=345]

The functions available in this window are:

* *Selected Type*: filter the list by selecting only one Disease Type.
* *[.underline]##N##ew*: enter a new disease (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing disease (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing disease (it is set as not present in OPD or in IPD).
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##E##dit* button, the *_Edit Disease_* window is shown:

image:image167.png[Edit Disease]

In editing mode, the code cannot be changed and the only modifications allowed are to the Type, the Description and if the disease should appear only in OPD, or Admissions, or in both.

By removing the check from all the checkboxes (OPD, IPD -IN-, and IPD -OUT-), a *[.underline]##D##elete* action is performed, disabling the disease from appearing in the application. This action can be undone by editing the disease again.

The diseases defined are reflected throughout the entire application, like in the Admission module and the OPD module (see
<<admission-patient,Admission/Patient>> and
<<outpatient-department-management,Outpatient Department Management>> in this document).

[#exam]
=== 12.6 Exam ([.underline]##E##xams)

Once the *[.underline]##E##xams* button in the *_Settings_* menu is pressed, the *_Exam Browser_* window is shown:

image:image168.png[Exam,width=633,height=190]

The functions available in this window are:

* *Search*: subset the list by typing a keyword.
* *Select Type*: subset the list by selecting only one Exam Type.
* *[.underline]##N##ew*: enter a new exam (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing exam (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing exam (it is set as not present in OPD or in IPD).
* *[.underline]##R##esults*: define possible results for the selected exam.
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##E##dit* button, the *_Edit Exam_* window is shown:

image:image169.png[Edit Exam]

In editing mode, the code or procedure cannot be changed and the only modifications allowed are to the Type, the Description and the default value.

By pressing the *[.underline]##N##ew* button, the *_New Exam_* window is shown:

image:image170.png[New Exam]

To insert a new Exam, the following data must be provided:

* *Type*: the Exam Type (see <<exam-types,Exam Types>> in this document).
* *Code*: a unique code; a warning window will appear if not unique.
* *Description*: the exam name.
* *Procedure*: the kind of results for this exam (see <<results,Results>> in this document).
* *Default*: a default value among the results that are going to be defined (see <<results,Results>> in this document).

[#results]
==== 12.6.1 Results ([.underline]##R##esults)

Once an exam is defined, the next step is the definition of the set of results the
exam can have. First, select the exam in the *_Exam Browser_* window and then press the *[.underline]##Re##sults* button.

In Open Hospital, three kinds of results can be defined, called “Procedure”:

* *Procedure 1*: a set of values as description; only one will be selectable as exam *Single Result*
* *Procedure 2*: a set of Positive/Negative values; all of them will figure as exam *Multiple Results*
* *Procedure 3*: a specific value to be input manually; it will show an *input field* at the time of the exam registration

The difference between *Procedures (1, 2, 3)* can be seen in the Laboratory module (see
<<create-a-new-laboratory-exam,Create a new laboratory exam>> and
<<laboratory-multiple-insert,Laboratory Multiple Insert>> in this document).

Because for [.underline]#Procedure 3# the exact value is not known, the *[.underline]##R##esult* button is disabled in this case:

image:image170b.png[Procedure 3,width=600,height=178]

The two remaining possibilities are shown below:

image:image171.png[Procedure 1,width=321,height=181]image:image171b.png[Procedure 2,width=321,height=181]

The functions available in both windows are:

* *[.underline]##N##ew*: enter a new result.
* *[.underline]##D##elete*: delete a defined result.
* *[.underline]##C##lose*: close the window.

[#operations]
=== 12.7 Operations ([.underline]##O##peration)

Once the *[.underline]##O##peration* button in the *_Settings_* menu is pressed, the *_Operations Browser_* window is shown:

image:image173.png[Operation Browser,width=600,height=337]

The functions available in this window are:

* *Selected type*: filter the list by selecting only one Operation Type.
* *[.underline]##N##ew*: enter a new operation (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing operation (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing operation (it is set as not present in OPD or in IPD).
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##E##dit* button, the *_Edit Operation_* window is shown:

image:image174.png[Edit Operation]

In editing mode, the code cannot be changed; only modification of the Type, the Description and whether the operation concerns Major or Minor surgery for statistical purposes (not yet implemented) are allowed.

The operation's context can also be changed: _OPD / ADMISSION_, _ADMISSION_, _OPD_.

The Operations defined are used throughout the entire application, like in the Admission module (see
<<insert-or-modify-surgery-data,Insert or Modify Surgery data>> in this document).

=== 12.8 Vaccine ([.underline]##V##accine)

Once the *[.underline]##V##accine* button in the *_Settings_* menu is pressed, the *_Vaccine Browser_* window as shown below:

image:image175.png[Vaccine,width=597,height=168]

The functions available in this window are:

* *Selected type*: filter the list by selecting only one Vaccine Type.
* *[.underline]##N##ew*: enter a new vaccine (cannot use an existing code).
* *[.underline]##E##dit*: edit an existing vaccine (the code cannot be changed).
* *[.underline]##D##elete*: delete an existing vaccine (it is set as not present in OPD or in IPD).
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##E##dit* button, the *_Edit Vaccine_* window is shown:

image:image176.png[Edit Vaccine]

In editing mode, the code cannot be changed; only modification of the Type and the Description is permitted.

The vaccines defined are used throughout the entire application, like in the Vaccine module (see
<<vaccines,Vaccines>> in this document).

[#prices]
=== 12.9 Prices ([.underline]##P##rice Lists)

Once the *[.underline]##P##rice Lists* button in the *_Settings_* menu is pressed, the *_Price Browser_* window is shown:

image:image177.png[Price Browser,width=550,height=373]

The functions available in this window are:

* *[.underline]##S##ave*: save any modifications made to the price list.
* *[.underline]##P##rinting*: print the current price list.
* *[.underline]##C##ancel*: close the window.
* Switch price list: focus on a different price list by selecting it in the upper-left corner of the window.
* *[.underline]##M##anage Lists*: define how many and which price list will be available in the application (see
<<pricelists,Price Lists>> in this document).

The *_Price Browser_* window shows the list of all prices in the selected price lists;
the system automatically creates a price for every exam (see <<exam,Exam>>),
operation (see <<operations,Operations>>) and medical (see <<pharmaceuticals,Pharmaceuticals>>) defined in
the system, plus other prices defined in Other Prices module (see <<other-prices,Other Prices>>).

To modify a price, just double-click on it and type the new price.

NOTE: If a price has been defined as “undefined” (see <<other-prices,Other Prices>>), it will appear as 0 (zero) and cannot be modified.

NOTE: Exams', operations' and medicals' prices are automatically created as OPD, IPD, not “daily”,
not “undefined”, and not “discharge”; see <<other-prices,Other Prices>> for more information.

When all the modifications are made, the changes can be stored permanently in the system by pressing the *[.underline]##S##ave* button. A confirmation message reports the success of the operation:

image:image178.png[Save Price confirmation]

[#pricelists]
==== 12.9.1 Price Lists ([.underline]##M##anage Lists)

Once the *_[.underline]##M##anage Lists_* button in the *_Price Browser_* window is pressed,
the *_List Browser_* window is shown:

image:image179.png[List Browser]

The functions available in this window are:

* *[.underline]##N##ew*: enter a new price list.
* *Co[.underline]##p##y*: create a new price list as a copy of another one.
* *[.underline]##E##dit*: edit an existing price list.
* *[.underline]##D##elete*: delete an existing price list.
* *[.underline]##C##lose*: close the window.

After selecting a list to copy, press the *Co[.underline]##p##y* button and the system prompts with a series of windows asking:

[arabic]
. a *Name* of the new price list
. a *Multiplier* for all prices in the selected price list
. a *Rounding Factor* for all prices in the new price list

A confirmation message reports the success of the operation:

image:image180.png[List copied confirmation]

By default, the new list is created with the following information:

*ID*: “aCode”

*NAME*: the same name provided in the step-by-step copying procedure

*DESCRIPTION*: “a Description”

*CURRENCY*: the currency of the selected price list

Once the copy has been created, the information can be changed by editing the price list just created.

By pressing the *[.underline]##E##dit* button, the *_Edit List_* window is shown:

image:image181.png[Edit List]

In editing mode, any of the data related to the list can be changed.

The lists defined are used in the Accounting module (see
<<insert-a-new-bill,Insert a new bill>> in this document).

=== 12.10 Supplier ([.underline]##S##upplier)

Once the *[.underline]##S##upplier* button in the *_Settings_* menu is pressed, the *_Supplier Browser_* window is shown:

image:image182.png[Supplier Browser,width=550,height=231]

The functions available in this window are:

* *[.underline]##N##ew*: insert a new supplier.
* *[.underline]##E##dit*: edit an existing supplier.
* *[.underline]##D##elete*: delete a supplier.
* *[.underline]##C##lose*: close the window.

The *_Supplier Browser_* window shows the list of all the suppliers in the system.

To add a supplier, click the *[.underline]##N##ew* button to access the *_New Supplier_* window as shown below:

image:image183.png[New Supplier]

The information associated with a new supplier is:

* *Name*: is the supplier's name (it is the only required field).
* *Address*: is the supplier's address.
* *Tax Number ID*: is the supplier's tax number.
* *Telephone*: is the supplier's phone number.
* *Fax number*: is the supplier's FAX number.
* *E-mail*: is the supplier's email address.
* *Note*: Additional notes about the supplier.

When the data is entered, click the *[.underline]##O##K* button to save the new supplier.

To edit the supplier's information, in the *_Supplier Browser_* highlight the supplier and
click on the *[.underline]##E##dit* button to open the *_Edit Supplier_* window.
After performing the necessary modifications, click the *[.underline]##O##K* button to save the changes.

To delete a supplier, in the *_Supplier Browser_* highlight the supplier and
click on the *[.underline]##D##elete* button to remove the selected Supplier.

[#sms-manager]
=== 12.11 SMS Manager (S[.underline]##M##S Manager)

WARNING: SMS pricing is set and collected by the SMS Provider (GSM or HTTP) and is related to or controlled by this software.

NOTE: Sending SMS in Open Hospital requires that the Gateway is well configured. Either a GSM gateway or WebApi Gateway can be used. Ask the Administrator about enabling this function or refer to the _Administrator’s Guide_.

Once the *SMS Manager* button in the *_Settings_* menu is pressed, the *_SMS Manager_* window is shown:

image:image184.png[SMS Manager]

The functions available in this window are:

* *[.underline]##N##ew*: send a new SMS.
* *[.underline]##D##elete*: delete an SMS.
* *[.underline]##C##lose*: close the window.

It is also possible to filter the SMS list by a date range.

To send a new SMS, click the *[.underline]##N##ew* button to access the *_New SMS_* window:

image:image185.png[New SMS]

In order to insert a new SMS, the following data is required:

* *Scheduled Date*: use this field to send an SMS in the future. Use the current date and time to send the SMS immediately.
* *Number*: the recipient of the SMS. Select a patient by clicking the button image:image186.png[number icon,width=43,height=23]. The phone number of the selected patient is automatically inserted.
* *SMS*: type the text of the SMS in the white space (maximum of 160 characters).

Then click *[.underline]##O##K* to save the new SMS. If the scheduled date and time are now, the SMS is sent immediately.

To delete an SMS, highlight the SMS and click the *[.underline]##D##elete* button to delete the SMS.

[#users-groups]
=== 12.12 Users & Groups ([.underline]##U##sers & Groups)

The User Menu can be enabled or disabled by changing the _SINGLEUSER_ flag in the configuration file**.** Ask the Administrator to enable/disable this function or refer to the _Administrator’s Guide_.

If _SINGLEUSER_ is set to NO, the following login window is shown when the program starts:

image:image187.png[Login,width=305,height=148]

Once one has successfully logged into the system, the *_[.underline]##U##sers & Groups_* button in the *_Settings_* submenu is available, if enabled by the Administrator.

Once the *_[.underline]##U##sers & Groups_* button in the *_Settings_* submenu is pressed, the *_Users & Groups_* submenu is shown:

image:image188.png[Users & Groups]

Open Hospital allows the management of users organized into groups; each group is characterized by different permissions assigned by the Administrator.

Before registering a new user in the system, ensure that there is a group defined with the related permissions to which the user should have access.

==== 12.12.1 Groups ([.underline]##G##roups)

Once the *[.underline]##G##roups* button in the *_Users_* submenu is pressed, the *_Groups Browser_* window is shown:

image:image189.png[Groups Browser,width=642,height=180]

The functions available in this window are:

* *[.underline]##E##dit*: edit an existing group (only the description can be changed).
* *[.underline]##N##ew*: enter a new group.
* *Group[.underline]##M##enu*: define rights and permission for a selected group.
* *[.underline]##D##elete*: delete an existing group.
* *[.underline]##C##lose*: close the window.

By pressing the *Group[.underline]##M##enu* button, the *_Menu Item Browser_* window is shown:

image:image190.png[GroupMenu,width=280,height=350]

The window shows the full set of functions available in Open Hospital in a tree format:

* main is the “trunk”: the main menu
* *Blue* nodes are the “branches”: menus and windows
* *Black* nodes are the “leaves”: buttons and functions

Double-clicking on each branch or leaf enables or disables that function or set of functions for the selected group.

For instance, the group “Registration Office” and the group “Cashiers” may have the following group permission configurations:

image:image191.png[MenuItem,width=641,height=708]

So, the Registration Office group can only use the Admission/Patient module to insert and edit patients, while the Cashiers group can only use the Accounting module to produce bills.

So, the “main menu” for each user registered in the Registration Office group and for each one in the Cashiers group is shown as follows:

|===
|image:OH-main_menu_s1.png[OH Main Menu 1]|image:OH-main_menu_s2.png[OH Main Menu 2]
|===

==== 12.12.2 Users ([.underline]##U##sers)

Once the *[.underline]##U##sers* button in the *_Users & Groups_* submenu is pressed, the *_User Browser_* window is shown:

image:image195.png[User Browser,width=621,height=305]

The last column, *LOCKED*, if checked indicates that the user is currently locked out from logging into the system.

The functions available in this window are:

* *Select group*: filter the list by selecting only one group.
* *[.underline]##N##ew*: enter a new user (cannot use the same name).
* *[.underline]##E##dit*: edit an existing user (the password cannot be changed).
* *[.underline]##R##eset Password*: change the password for an existing user.
* *[.underline]##D##elete*: delete an existing user.
* *[.underline]##C##lose*: close the window.

By pressing the *[.underline]##E##dit* button, the *_Edit User_* window is shown:

image:image198.png[Edit User]

In editing mode, the group, the description, and whether the user is locked out from logging into the system can be modified.
To *lock* or *unlock* a user account check or uncheck the box after *Locked:*.

<<<

[#worksheet]
== 13 Worksheet ([.underline]##W##orksheet)

The *Worksheet* function allows the management and printing of the list of appointments scheduled.

.Click the mouse on the button or press "Alt + W" to enter the *Worksheet* page:

[#default-main-menu-16]
[caption="Main Menu: "]
image:OH-main_menu.png[OH Main Menu]

The _Worksheet_ module works at the Ward (Department) level; therefore, a ward must first be selected:

image:image245.png[Worksheet,width=1350,height=600]

Once one has selected the ward (it is possible to switch to another ward at any time), a two-column appointment schedule is shown with the appointments/services scheduled for today (on the left) and tomorrow (on the right):

image:image246.png[Worksheet with selection,width=1350,height=600]

One can either select another date with the *Go to date* field or reset the schedule back to today with the button *Today*.
In either case, the window _[.underline]#always#_ shows the chosen date on the left and the following day on the right.

NOTE: The section <<appointment-validation-rules>> describes the constraints to create a valid appointment/visit.

The functions available in this window are:

* *Add Visit*: schedule a new visit for a specific date (on the left or on the right).
* *Remove Visit*: remove a visit for a specific date (on the left or on the right).
* *Print this day's visits*: print the specific date scheduled visits.
* *[.underline]##N##ext->*: see the schedule for the following day.
* *<-[.underline]##P##rev.*: see the schedule for the previous day.
* *[.underline]##C##lose*: close the window.

TIP: Scheduling a visit can also be done in the *Therapy Management* module; see <<therapy-management,Therapy Management>>

<<<

== 14 License

image:by-sa.png[bysa,width=88,height=31,link="https://creativecommons.org/licenses/by-sa/4.0/"] [.small]#Informatici Senza Frontiere Onlus, 2022#
pass:[<br>][.small]#User's Guide, &#169; 2023 by https://www.informaticisenzafrontiere.org/[Informatici Senza Frontiere Onlus]#
pass:[<br>][.small]#Policies is made available under a https://creativecommons.org/licenses/by-sa/4.0//[Creative Commons Attribution-ShareAlike 4.0] International License: https://creativecommons.org/licenses/by-sa/4.0//.#
